.class public abstract Lcom/facebook/soloader/t;
.super Lcom/facebook/soloader/e;
.source ""


# instance fields
.field public c:[Ljava/lang/String;
    .annotation build Ljavax/annotation/Nullable;
    .end annotation
.end field

.field private final d:Ljava/util/Map;
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "Ljava/util/Map",
            "<",
            "Ljava/lang/String;",
            "Ljava/lang/Object;",
            ">;"
        }
    .end annotation
.end field

.field public final e:Landroid/content/Context;

.field public f:Ljava/lang/String;
    .annotation build Ljavax/annotation/Nullable;
    .end annotation
.end field


# direct methods
.method public constructor <init>(Landroid/content/Context;Ljava/lang/String;)V
    .locals 3

    .prologue
    .line 135154
    new-instance v2, Ljava/io/File;

    new-instance v1, Ljava/lang/StringBuilder;

    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V

    invoke-virtual {p1}, Landroid/content/Context;->getApplicationInfo()Landroid/content/pm/ApplicationInfo;

    move-result-object v0

    iget-object v0, v0, Landroid/content/pm/ApplicationInfo;->dataDir:Ljava/lang/String;

    invoke-virtual {v1, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v1

    const-string v0, "/"

    invoke-virtual {v1, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v0

    invoke-virtual {v0, p2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v0

    invoke-virtual {v0}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v0

    invoke-direct {v2, v0}, Ljava/io/File;-><init>(Ljava/lang/String;)V

    .line 135155
    const/4 v0, 0x1

    invoke-direct {p0, v2, v0}, Lcom/facebook/soloader/e;-><init>(Ljava/io/File;I)V

    .line 135156
    new-instance v0, Ljava/util/HashMap;

    invoke-direct {v0}, Ljava/util/HashMap;-><init>()V

    iput-object v0, p0, Lcom/facebook/soloader/t;->d:Ljava/util/Map;

    .line 135157
    iput-object p1, p0, Lcom/facebook/soloader/t;->e:Landroid/content/Context;

    .line 135158
    return-void
.end method

.method private static a(Lcom/facebook/soloader/t;BLcom/facebook/soloader/w;Lcom/facebook/soloader/y;)V
    .locals 11

    .prologue
    const/4 v5, 0x1

    const/4 v3, 0x0

    const/4 v10, 0x0

    .line 135179
    new-instance v1, Ljava/lang/StringBuilder;

    const-string v0, "regenerating DSO store "

    invoke-direct {v1, v0}, Ljava/lang/StringBuilder;-><init>(Ljava/lang/String;)V

    invoke-virtual {p0}, Ljava/lang/Object;->getClass()Ljava/lang/Class;

    move-result-object v0

    invoke-virtual {v0}, Ljava/lang/Class;->getName()Ljava/lang/String;

    move-result-object v0

    invoke-virtual {v1, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 135180
    new-instance v2, Ljava/io/File;

    iget-object v1, p0, Lcom/facebook/soloader/e;->a:Ljava/io/File;

    const-string v0, "dso_manifest"

    invoke-direct {v2, v1, v0}, Ljava/io/File;-><init>(Ljava/io/File;Ljava/lang/String;)V

    .line 135181
    new-instance v4, Ljava/io/RandomAccessFile;

    const-string v0, "rw"

    invoke-direct {v4, v2, v0}, Ljava/io/RandomAccessFile;-><init>(Ljava/io/File;Ljava/lang/String;)V

    .line 135182
    if-ne p1, v5, :cond_2

    .line 135183
    :try_start_0
    invoke-static {v4}, Lcom/facebook/soloader/w;->a(Ljava/io/DataInput;)Lcom/facebook/soloader/w;

    move-result-object v7

    .line 135184
    :goto_0
    if-nez v7, :cond_0
    :try_end_0
    .catch Ljava/lang/Exception; {:try_start_0 .. :try_end_0} :catch_0
    .catch Ljava/lang/Throwable; {:try_start_0 .. :try_end_0} :catch_1
    .catchall {:try_start_0 .. :try_end_0} :catchall_2

    .line 135185
    :try_start_1
    new-instance v7, Lcom/facebook/soloader/w;

    const/4 v0, 0x0

    new-array v0, v0, [Lcom/facebook/soloader/v;

    invoke-direct {v7, v0}, Lcom/facebook/soloader/w;-><init>([Lcom/facebook/soloader/v;)V

    .line 135186
    :cond_0
    iget-object v0, p2, Lcom/facebook/soloader/w;->a:[Lcom/facebook/soloader/v;

    invoke-static {p0, v0}, Lcom/facebook/soloader/t;->a(Lcom/facebook/soloader/t;[Lcom/facebook/soloader/v;)V

    .line 135187
    const v0, 0x8000

    new-array v8, v0, [B

    .line 135188
    :goto_1
    invoke-virtual {p3}, Lcom/facebook/soloader/y;->a()Z

    move-result v0

    if-eqz v0, :cond_6

    .line 135189
    invoke-virtual {p3}, Lcom/facebook/soloader/y;->b()Lcom/facebook/soloader/x;

    move-result-object v6

    move v2, v10

    move v9, v5

    .line 135190
    :goto_2
    if-eqz v9, :cond_3
    :try_end_1
    .catch Ljava/lang/Throwable; {:try_start_1 .. :try_end_1} :catch_1
    .catchall {:try_start_1 .. :try_end_1} :catchall_2

    :try_start_2
    iget-object v0, v7, Lcom/facebook/soloader/w;->a:[Lcom/facebook/soloader/v;

    array-length v0, v0

    if-ge v2, v0, :cond_3

    .line 135191
    iget-object v0, v7, Lcom/facebook/soloader/w;->a:[Lcom/facebook/soloader/v;

    aget-object v0, v0, v2

    iget-object v1, v0, Lcom/facebook/soloader/v;->c:Ljava/lang/String;

    iget-object v0, v6, Lcom/facebook/soloader/x;->a:Lcom/facebook/soloader/v;

    iget-object v0, v0, Lcom/facebook/soloader/v;->c:Ljava/lang/String;

    invoke-virtual {v1, v0}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v0

    if-eqz v0, :cond_1

    iget-object v0, v7, Lcom/facebook/soloader/w;->a:[Lcom/facebook/soloader/v;

    aget-object v0, v0, v2

    iget-object v1, v0, Lcom/facebook/soloader/v;->d:Ljava/lang/String;

    iget-object v0, v6, Lcom/facebook/soloader/x;->a:Lcom/facebook/soloader/v;

    iget-object v0, v0, Lcom/facebook/soloader/v;->d:Ljava/lang/String;

    .line 135192
    invoke-virtual {v1, v0}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v0

    if-eqz v0, :cond_1

    move v9, v10

    .line 135193
    :cond_1
    add-int/lit8 v2, v2, 0x1

    goto :goto_2
    :try_end_2
    .catch Ljava/lang/Throwable; {:try_start_2 .. :try_end_2} :catch_2
    .catchall {:try_start_2 .. :try_end_2} :catchall_3

    :catch_0
    :cond_2
    move-object v7, v3

    goto :goto_0

    .line 135194
    :cond_3
    if-eqz v9, :cond_4

    .line 135195
    :try_start_3
    invoke-static {p0, v6, v8}, Lcom/facebook/soloader/t;->a(Lcom/facebook/soloader/t;Lcom/facebook/soloader/x;[B)V
    :try_end_3
    .catch Ljava/lang/Throwable; {:try_start_3 .. :try_end_3} :catch_2
    .catchall {:try_start_3 .. :try_end_3} :catchall_3

    .line 135196
    :cond_4
    :try_start_4
    invoke-virtual {v6}, Lcom/facebook/soloader/x;->close()V

    goto :goto_1
    :try_end_4
    .catch Ljava/lang/Throwable; {:try_start_4 .. :try_end_4} :catch_1
    .catchall {:try_start_4 .. :try_end_4} :catchall_2

    .line 135197
    :catch_1
    move-exception v3

    :try_start_5
    throw v3
    :try_end_5
    .catchall {:try_start_5 .. :try_end_5} :catchall_0

    .line 135198
    :catchall_0
    move-exception v1

    :goto_3
    if-eqz v3, :cond_7

    :try_start_6
    invoke-virtual {v4}, Ljava/io/RandomAccessFile;->close()V
    :try_end_6
    .catch Ljava/lang/Throwable; {:try_start_6 .. :try_end_6} :catch_4

    :goto_4
    throw v1

    .line 135199
    :catch_2
    move-exception v2

    :try_start_7
    throw v2
    :try_end_7
    .catchall {:try_start_7 .. :try_end_7} :catchall_1

    .line 135200
    :catchall_1
    move-exception v1

    :goto_5
    if-eqz v2, :cond_5

    :try_start_8
    invoke-virtual {v6}, Lcom/facebook/soloader/x;->close()V
    :try_end_8
    .catch Ljava/lang/Throwable; {:try_start_8 .. :try_end_8} :catch_3
    .catchall {:try_start_8 .. :try_end_8} :catchall_2

    :goto_6
    :try_start_9
    throw v1
    :try_end_9
    .catch Ljava/lang/Throwable; {:try_start_9 .. :try_end_9} :catch_1
    .catchall {:try_start_9 .. :try_end_9} :catchall_2

    .line 135201
    :catchall_2
    move-exception v1

    goto :goto_3

    .line 135202
    :catch_3
    :try_start_a
    move-exception v0

    invoke-static {v2, v0}, Lcom/instagram/common/guavalite/a/e;->a(Ljava/lang/Throwable;Ljava/lang/Throwable;)V

    goto :goto_6

    :cond_5
    invoke-virtual {v6}, Lcom/facebook/soloader/x;->close()V

    goto :goto_6
    :try_end_a
    .catch Ljava/lang/Throwable; {:try_start_a .. :try_end_a} :catch_1
    .catchall {:try_start_a .. :try_end_a} :catchall_2

    .line 135203
    :cond_6
    invoke-virtual {v4}, Ljava/io/RandomAccessFile;->close()V

    .line 135204
    new-instance v1, Ljava/lang/StringBuilder;

    const-string v0, "Finished regenerating DSO store "

    invoke-direct {v1, v0}, Ljava/lang/StringBuilder;-><init>(Ljava/lang/String;)V

    invoke-virtual {p0}, Ljava/lang/Object;->getClass()Ljava/lang/Class;

    move-result-object v0

    invoke-virtual {v0}, Ljava/lang/Class;->getName()Ljava/lang/String;

    move-result-object v0

    invoke-virtual {v1, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 135205
    return-void

    .line 135206
    :catch_4
    move-exception v0

    invoke-static {v3, v0}, Lcom/instagram/common/guavalite/a/e;->a(Ljava/lang/Throwable;Ljava/lang/Throwable;)V

    goto :goto_4

    :cond_7
    invoke-virtual {v4}, Ljava/io/RandomAccessFile;->close()V

    goto :goto_4

    .line 135207
    :catchall_3
    move-exception v1

    move-object v2, v3

    goto :goto_5
.end method

.method private static a(Lcom/facebook/soloader/t;Lcom/facebook/soloader/x;[B)V
    .locals 6

    .prologue
    const/4 v2, 0x1

    .line 135208
    new-instance v1, Ljava/lang/StringBuilder;

    const-string v0, "extracting DSO "

    invoke-direct {v1, v0}, Ljava/lang/StringBuilder;-><init>(Ljava/lang/String;)V

    iget-object v0, p1, Lcom/facebook/soloader/x;->a:Lcom/facebook/soloader/v;

    iget-object v0, v0, Lcom/facebook/soloader/v;->c:Ljava/lang/String;

    invoke-virtual {v1, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 135209
    iget-object v0, p0, Lcom/facebook/soloader/e;->a:Ljava/io/File;

    invoke-virtual {v0, v2, v2}, Ljava/io/File;->setWritable(ZZ)Z

    move-result v0

    if-nez v0, :cond_0

    .line 135210
    new-instance v2, Ljava/io/IOException;

    new-instance v1, Ljava/lang/StringBuilder;

    const-string v0, "cannot make directory writable for us: "

    invoke-direct {v1, v0}, Ljava/lang/StringBuilder;-><init>(Ljava/lang/String;)V

    iget-object v0, p0, Lcom/facebook/soloader/e;->a:Ljava/io/File;

    invoke-virtual {v1, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;

    move-result-object v0

    invoke-virtual {v0}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v0

    invoke-direct {v2, v0}, Ljava/io/IOException;-><init>(Ljava/lang/String;)V

    throw v2

    .line 135211
    :cond_0
    new-instance v3, Ljava/io/File;

    iget-object v1, p0, Lcom/facebook/soloader/e;->a:Ljava/io/File;

    iget-object v0, p1, Lcom/facebook/soloader/x;->a:Lcom/facebook/soloader/v;

    iget-object v0, v0, Lcom/facebook/soloader/v;->c:Ljava/lang/String;

    invoke-direct {v3, v1, v0}, Ljava/io/File;-><init>(Ljava/io/File;Ljava/lang/String;)V

    .line 135212
    :try_start_0
    new-instance v4, Ljava/io/RandomAccessFile;

    const-string v0, "rw"

    invoke-direct {v4, v3, v0}, Ljava/io/RandomAccessFile;-><init>(Ljava/io/File;Ljava/lang/String;)V
    :try_end_0
    .catch Ljava/io/IOException; {:try_start_0 .. :try_end_0} :catch_1

    .line 135213
    :goto_0
    :try_start_1
    iget-object v0, p1, Lcom/facebook/soloader/x;->b:Ljava/io/InputStream;

    .line 135214
    invoke-virtual {v0}, Ljava/io/InputStream;->available()I

    move-result v0

    .line 135215
    if-le v0, v2, :cond_1

    .line 135216
    invoke-virtual {v4}, Ljava/io/RandomAccessFile;->getFD()Ljava/io/FileDescriptor;

    move-result-object p0

    int-to-long v1, v0

    .line 135217
    sget v5, Landroid/os/Build$VERSION;->SDK_INT:I

    const/16 v0, 0x15

    if-lt v5, v0, :cond_1

    .line 135218
    invoke-static {p0, v1, v2}, Lcom/facebook/soloader/SysUtil$LollipopSysdeps;->fallocateIfSupported(Ljava/io/FileDescriptor;J)V

    .line 135219
    :cond_1
    iget-object p1, p1, Lcom/facebook/soloader/x;->b:Ljava/io/InputStream;

    const p0, 0x7fffffff

    const/4 v5, 0x0

    move v2, v5

    .line 135220
    :goto_1
    if-ge v2, p0, :cond_2

    array-length v1, p2

    sub-int v0, p0, v2

    .line 135221
    invoke-static {v1, v0}, Ljava/lang/Math;->min(II)I

    move-result v0

    .line 135222
    invoke-virtual {p1, p2, v5, v0}, Ljava/io/InputStream;->read([BII)I

    move-result v1

    const/4 v0, -0x1

    if-eq v1, v0, :cond_2

    .line 135223
    invoke-virtual {v4, p2, v5, v1}, Ljava/io/RandomAccessFile;->write([BII)V

    .line 135224
    add-int/2addr v2, v1

    goto :goto_1

    .line 135225
    :cond_2
    invoke-virtual {v4}, Ljava/io/RandomAccessFile;->getFilePointer()J

    move-result-wide v0

    invoke-virtual {v4, v0, v1}, Ljava/io/RandomAccessFile;->setLength(J)V

    .line 135226
    const/4 v1, 0x1

    const/4 v0, 0x0

    invoke-virtual {v3, v1, v0}, Ljava/io/File;->setExecutable(ZZ)Z

    move-result v0

    if-nez v0, :cond_3

    .line 135227
    new-instance v2, Ljava/io/IOException;

    new-instance v1, Ljava/lang/StringBuilder;

    const-string v0, "cannot make file executable: "

    invoke-direct {v1, v0}, Ljava/lang/StringBuilder;-><init>(Ljava/lang/String;)V

    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;

    move-result-object v0

    invoke-virtual {v0}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v0

    invoke-direct {v2, v0}, Ljava/io/IOException;-><init>(Ljava/lang/String;)V

    throw v2
    :try_end_1
    .catch Ljava/io/IOException; {:try_start_1 .. :try_end_1} :catch_0
    .catchall {:try_start_1 .. :try_end_1} :catchall_0

    .line 135228
    :catch_0
    move-exception v0

    .line 135229
    :try_start_2
    invoke-static {v3}, Lcom/facebook/soloader/SysUtil;->a(Ljava/io/File;)V

    .line 135230
    throw v0
    :try_end_2
    .catchall {:try_start_2 .. :try_end_2} :catchall_0

    .line 135231
    :catchall_0
    move-exception v0

    invoke-virtual {v4}, Ljava/io/RandomAccessFile;->close()V

    throw v0

    .line 135232
    :catch_1
    new-instance v1, Ljava/lang/StringBuilder;

    const-string v0, "error overwriting "

    invoke-direct {v1, v0}, Ljava/lang/StringBuilder;-><init>(Ljava/lang/String;)V

    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;

    move-result-object v1

    const-string v0, " trying to delete and start over"

    invoke-virtual {v1, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 135233
    invoke-static {v3}, Lcom/facebook/soloader/SysUtil;->a(Ljava/io/File;)V

    .line 135234
    new-instance v4, Ljava/io/RandomAccessFile;

    const-string v0, "rw"

    invoke-direct {v4, v3, v0}, Ljava/io/RandomAccessFile;-><init>(Ljava/io/File;Ljava/lang/String;)V

    goto :goto_0

    .line 135235
    :cond_3
    invoke-virtual {v4}, Ljava/io/RandomAccessFile;->close()V

    .line 135236
    return-void
.end method

.method private static a(Lcom/facebook/soloader/t;[Lcom/facebook/soloader/v;)V
    .locals 7

    .prologue
    const/4 v6, 0x0

    .line 135237
    iget-object v0, p0, Lcom/facebook/soloader/e;->a:Ljava/io/File;

    invoke-virtual {v0}, Ljava/io/File;->list()[Ljava/lang/String;

    move-result-object v4

    .line 135238
    if-nez v4, :cond_0

    .line 135239
    new-instance v2, Ljava/io/IOException;

    new-instance v1, Ljava/lang/StringBuilder;

    const-string v0, "unable to list directory "

    invoke-direct {v1, v0}, Ljava/lang/StringBuilder;-><init>(Ljava/lang/String;)V

    iget-object v0, p0, Lcom/facebook/soloader/e;->a:Ljava/io/File;

    invoke-virtual {v1, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;

    move-result-object v0

    invoke-virtual {v0}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v0

    invoke-direct {v2, v0}, Ljava/io/IOException;-><init>(Ljava/lang/String;)V

    throw v2

    :cond_0
    move v3, v6

    .line 135240
    :goto_0
    array-length v0, v4

    if-ge v3, v0, :cond_4

    .line 135241
    aget-object v5, v4, v3

    .line 135242
    const-string v0, "dso_state"

    invoke-virtual {v5, v0}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v0

    if-nez v0, :cond_3

    const-string v0, "dso_lock"

    .line 135243
    invoke-virtual {v5, v0}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v0

    if-nez v0, :cond_3

    const-string v0, "dso_deps"

    .line 135244
    invoke-virtual {v5, v0}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v0

    if-nez v0, :cond_3

    const-string v0, "dso_manifest"

    .line 135245
    invoke-virtual {v5, v0}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v0

    if-nez v0, :cond_3

    move v2, v6

    move v1, v6

    .line 135246
    :goto_1
    if-nez v1, :cond_2

    array-length v0, p1

    if-ge v2, v0, :cond_2

    .line 135247
    aget-object v0, p1, v2

    iget-object v0, v0, Lcom/facebook/soloader/v;->c:Ljava/lang/String;

    invoke-virtual {v0, v5}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v0

    if-eqz v0, :cond_1

    .line 135248
    const/4 v1, 0x1

    .line 135249
    :cond_1
    add-int/lit8 v2, v2, 0x1

    goto :goto_1

    .line 135250
    :cond_2
    if-nez v1, :cond_3

    .line 135251
    new-instance v2, Ljava/io/File;

    iget-object v0, p0, Lcom/facebook/soloader/e;->a:Ljava/io/File;

    invoke-direct {v2, v0, v5}, Ljava/io/File;-><init>(Ljava/io/File;Ljava/lang/String;)V

    .line 135252
    new-instance v1, Ljava/lang/StringBuilder;

    const-string v0, "deleting unaccounted-for file "

    invoke-direct {v1, v0}, Ljava/lang/StringBuilder;-><init>(Ljava/lang/String;)V

    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;

    .line 135253
    invoke-static {v2}, Lcom/facebook/soloader/SysUtil;->a(Ljava/io/File;)V

    .line 135254
    :cond_3
    add-int/lit8 v3, v3, 0x1

    goto :goto_0

    .line 135255
    :cond_4
    return-void
.end method

.method public static a(Ljava/io/File;B)V
    .locals 4

    .prologue
    .line 135256
    new-instance v3, Ljava/io/RandomAccessFile;

    const-string v0, "rw"

    invoke-direct {v3, p0, v0}, Ljava/io/RandomAccessFile;-><init>(Ljava/io/File;Ljava/lang/String;)V

    const/4 v2, 0x0

    .line 135257
    const-wide/16 v0, 0x0

    :try_start_0
    invoke-virtual {v3, v0, v1}, Ljava/io/RandomAccessFile;->seek(J)V

    .line 135258
    invoke-virtual {v3, p1}, Ljava/io/RandomAccessFile;->write(I)V

    .line 135259
    invoke-virtual {v3}, Ljava/io/RandomAccessFile;->getFilePointer()J

    move-result-wide v0

    invoke-virtual {v3, v0, v1}, Ljava/io/RandomAccessFile;->setLength(J)V

    .line 135260
    invoke-virtual {v3}, Ljava/io/RandomAccessFile;->getFD()Ljava/io/FileDescriptor;

    move-result-object v0

    invoke-virtual {v0}, Ljava/io/FileDescriptor;->sync()V
    :try_end_0
    .catch Ljava/lang/Throwable; {:try_start_0 .. :try_end_0} :catch_0
    .catchall {:try_start_0 .. :try_end_0} :catchall_1

    .line 135261
    invoke-virtual {v3}, Ljava/io/RandomAccessFile;->close()V

    return-void

    .line 135262
    :catch_0
    move-exception v2

    :try_start_1
    throw v2
    :try_end_1
    .catchall {:try_start_1 .. :try_end_1} :catchall_0

    .line 135263
    :catchall_0
    move-exception v1

    :goto_0
    if-eqz v2, :cond_0

    :try_start_2
    invoke-virtual {v3}, Ljava/io/RandomAccessFile;->close()V
    :try_end_2
    .catch Ljava/lang/Throwable; {:try_start_2 .. :try_end_2} :catch_1

    :goto_1
    throw v1

    :catch_1
    move-exception v0

    invoke-static {v2, v0}, Lcom/instagram/common/guavalite/a/e;->a(Ljava/lang/Throwable;Ljava/lang/Throwable;)V

    goto :goto_1

    :cond_0
    invoke-virtual {v3}, Ljava/io/RandomAccessFile;->close()V

    goto :goto_1

    :catchall_1
    move-exception v1

    goto :goto_0
.end method

.method private a(Lcom/facebook/soloader/j;I[B)Z
    .locals 12

    .prologue
    const/4 v2, 0x1

    const/4 v10, 0x0

    const/4 v6, 0x0

    .line 135264
    new-instance v11, Ljava/io/File;

    move-object v7, p0

    iget-object v1, p0, Lcom/facebook/soloader/e;->a:Ljava/io/File;

    const-string v0, "dso_state"

    invoke-direct {v11, v1, v0}, Ljava/io/File;-><init>(Ljava/io/File;Ljava/lang/String;)V

    .line 135265
    new-instance v3, Ljava/io/RandomAccessFile;

    const-string v0, "rw"

    invoke-direct {v3, v11, v0}, Ljava/io/RandomAccessFile;-><init>(Ljava/io/File;Ljava/lang/String;)V

    .line 135266
    :try_start_0
    invoke-virtual {v3}, Ljava/io/RandomAccessFile;->readByte()B

    move-result v5

    .line 135267
    if-eq v5, v2, :cond_0

    .line 135268
    new-instance v1, Ljava/lang/StringBuilder;

    const-string v0, "dso store "

    invoke-direct {v1, v0}, Ljava/lang/StringBuilder;-><init>(Ljava/lang/String;)V

    iget-object v0, p0, Lcom/facebook/soloader/e;->a:Ljava/io/File;

    invoke-virtual {v1, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;

    move-result-object v1

    const-string v0, " regeneration interrupted: wiping clean"

    invoke-virtual {v1, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move v5, v6
    :try_end_0
    .catch Ljava/io/EOFException; {:try_start_0 .. :try_end_0} :catch_0
    .catch Ljava/lang/Throwable; {:try_start_0 .. :try_end_0} :catch_1
    .catchall {:try_start_0 .. :try_end_0} :catchall_7

    .line 135269
    :cond_0
    :goto_0
    invoke-virtual {v3}, Ljava/io/RandomAccessFile;->close()V

    .line 135270
    new-instance v8, Ljava/io/File;

    iget-object v1, p0, Lcom/facebook/soloader/e;->a:Ljava/io/File;

    const-string v0, "dso_deps"

    invoke-direct {v8, v1, v0}, Ljava/io/File;-><init>(Ljava/io/File;Ljava/lang/String;)V

    .line 135271
    new-instance v3, Ljava/io/RandomAccessFile;

    const-string v0, "rw"

    invoke-direct {v3, v8, v0}, Ljava/io/RandomAccessFile;-><init>(Ljava/io/File;Ljava/lang/String;)V

    .line 135272
    :try_start_1
    invoke-virtual {v3}, Ljava/io/RandomAccessFile;->length()J

    move-result-wide v0

    long-to-int v0, v0

    new-array v4, v0, [B

    .line 135273
    invoke-virtual {v3, v4}, Ljava/io/RandomAccessFile;->read([B)I

    move-result v1

    array-length v0, v4

    if-eq v1, v0, :cond_1

    move v5, v6

    .line 135274
    :cond_1
    move-object v9, p3

    invoke-static {v4, p3}, Ljava/util/Arrays;->equals([B[B)Z

    move-result v0

    if-nez v0, :cond_2

    move v5, v6

    .line 135275
    :cond_2
    if-eqz v5, :cond_3

    and-int/lit8 v0, p2, 0x2

    if-eqz v0, :cond_4

    .line 135276
    :cond_3
    const/4 v0, 0x0

    invoke-static {v11, v0}, Lcom/facebook/soloader/t;->a(Ljava/io/File;B)V

    .line 135277
    invoke-virtual {p0}, Lcom/facebook/soloader/t;->a()Lcom/facebook/soloader/z;

    move-result-object v4
    :try_end_1
    .catch Ljava/lang/Throwable; {:try_start_1 .. :try_end_1} :catch_5
    .catchall {:try_start_1 .. :try_end_1} :catchall_5

    .line 135278
    :try_start_2
    invoke-virtual {v4}, Lcom/facebook/soloader/z;->b()Lcom/facebook/soloader/w;

    move-result-object v1

    .line 135279
    invoke-virtual {v4}, Lcom/facebook/soloader/z;->c()Lcom/facebook/soloader/y;

    move-result-object v0
    :try_end_2
    .catch Ljava/lang/Throwable; {:try_start_2 .. :try_end_2} :catch_4
    .catchall {:try_start_2 .. :try_end_2} :catchall_4

    .line 135280
    :try_start_3
    invoke-static {p0, v5, v1, v0}, Lcom/facebook/soloader/t;->a(Lcom/facebook/soloader/t;BLcom/facebook/soloader/w;Lcom/facebook/soloader/y;)V
    :try_end_3
    .catch Ljava/lang/Throwable; {:try_start_3 .. :try_end_3} :catch_3
    .catchall {:try_start_3 .. :try_end_3} :catchall_6

    .line 135281
    :try_start_4
    invoke-virtual {v0}, Lcom/facebook/soloader/y;->close()V
    :try_end_4
    .catch Ljava/lang/Throwable; {:try_start_4 .. :try_end_4} :catch_4
    .catchall {:try_start_4 .. :try_end_4} :catchall_4

    .line 135282
    :try_start_5
    invoke-virtual {v4}, Lcom/facebook/soloader/z;->close()V

    move-object v10, v1
    :try_end_5
    .catch Ljava/lang/Throwable; {:try_start_5 .. :try_end_5} :catch_5
    .catchall {:try_start_5 .. :try_end_5} :catchall_5

    .line 135283
    :cond_4
    invoke-virtual {v3}, Ljava/io/RandomAccessFile;->close()V

    .line 135284
    if-nez v10, :cond_9

    .line 135285
    :goto_1
    return v6

    .line 135286
    :catch_0
    move v5, v6

    goto :goto_0

    .line 135287
    :catch_1
    move-exception v10

    :try_start_6
    throw v10
    :try_end_6
    .catchall {:try_start_6 .. :try_end_6} :catchall_0

    .line 135288
    :catchall_0
    move-exception v1

    :goto_2
    if-eqz v10, :cond_5

    :try_start_7
    invoke-virtual {v3}, Ljava/io/RandomAccessFile;->close()V
    :try_end_7
    .catch Ljava/lang/Throwable; {:try_start_7 .. :try_end_7} :catch_2

    :goto_3
    throw v1

    :catch_2
    move-exception v0

    invoke-static {v10, v0}, Lcom/instagram/common/guavalite/a/e;->a(Ljava/lang/Throwable;Ljava/lang/Throwable;)V

    goto :goto_3

    :cond_5
    invoke-virtual {v3}, Ljava/io/RandomAccessFile;->close()V

    goto :goto_3

    .line 135289
    :catch_3
    move-exception v2

    :try_start_8
    throw v2
    :try_end_8
    .catchall {:try_start_8 .. :try_end_8} :catchall_1

    .line 135290
    :catchall_1
    move-exception v1

    :goto_4
    if-eqz v2, :cond_6

    :try_start_9
    invoke-virtual {v0}, Lcom/facebook/soloader/y;->close()V
    :try_end_9
    .catch Ljava/lang/Throwable; {:try_start_9 .. :try_end_9} :catch_6
    .catchall {:try_start_9 .. :try_end_9} :catchall_4

    :goto_5
    :try_start_a
    throw v1
    :try_end_a
    .catch Ljava/lang/Throwable; {:try_start_a .. :try_end_a} :catch_4
    .catchall {:try_start_a .. :try_end_a} :catchall_4

    .line 135291
    :catch_4
    move-exception v2

    :try_start_b
    throw v2
    :try_end_b
    .catchall {:try_start_b .. :try_end_b} :catchall_2

    .line 135292
    :catchall_2
    move-exception v1

    :goto_6
    if-eqz v2, :cond_7

    :try_start_c
    invoke-virtual {v4}, Lcom/facebook/soloader/z;->close()V
    :try_end_c
    .catch Ljava/lang/Throwable; {:try_start_c .. :try_end_c} :catch_7
    .catchall {:try_start_c .. :try_end_c} :catchall_5

    :goto_7
    :try_start_d
    throw v1
    :try_end_d
    .catch Ljava/lang/Throwable; {:try_start_d .. :try_end_d} :catch_5
    .catchall {:try_start_d .. :try_end_d} :catchall_5

    .line 135293
    :catch_5
    move-exception v10

    :try_start_e
    throw v10
    :try_end_e
    .catchall {:try_start_e .. :try_end_e} :catchall_3

    .line 135294
    :catchall_3
    move-exception v1

    :goto_8
    if-eqz v10, :cond_8

    :try_start_f
    invoke-virtual {v3}, Ljava/io/RandomAccessFile;->close()V
    :try_end_f
    .catch Ljava/lang/Throwable; {:try_start_f .. :try_end_f} :catch_8

    :goto_9
    throw v1

    .line 135295
    :catch_6
    move-exception v0

    :try_start_10
    invoke-static {v2, v0}, Lcom/instagram/common/guavalite/a/e;->a(Ljava/lang/Throwable;Ljava/lang/Throwable;)V

    goto :goto_5
    :try_end_10
    .catch Ljava/lang/Throwable; {:try_start_10 .. :try_end_10} :catch_4
    .catchall {:try_start_10 .. :try_end_10} :catchall_4

    .line 135296
    :catchall_4
    move-exception v1

    move-object v2, v10

    goto :goto_6

    .line 135297
    :cond_6
    :try_start_11
    invoke-virtual {v0}, Lcom/facebook/soloader/y;->close()V

    goto :goto_5
    :try_end_11
    .catch Ljava/lang/Throwable; {:try_start_11 .. :try_end_11} :catch_4
    .catchall {:try_start_11 .. :try_end_11} :catchall_4

    .line 135298
    :catch_7
    move-exception v0

    :try_start_12
    invoke-static {v2, v0}, Lcom/instagram/common/guavalite/a/e;->a(Ljava/lang/Throwable;Ljava/lang/Throwable;)V

    goto :goto_7
    :try_end_12
    .catch Ljava/lang/Throwable; {:try_start_12 .. :try_end_12} :catch_5
    .catchall {:try_start_12 .. :try_end_12} :catchall_5

    .line 135299
    :catchall_5
    move-exception v1

    goto :goto_8

    .line 135300
    :cond_7
    :try_start_13
    invoke-virtual {v4}, Lcom/facebook/soloader/z;->close()V

    goto :goto_7
    :try_end_13
    .catch Ljava/lang/Throwable; {:try_start_13 .. :try_end_13} :catch_5
    .catchall {:try_start_13 .. :try_end_13} :catchall_5

    .line 135301
    :catch_8
    move-exception v0

    invoke-static {v10, v0}, Lcom/instagram/common/guavalite/a/e;->a(Ljava/lang/Throwable;Ljava/lang/Throwable;)V

    goto :goto_9

    :cond_8
    invoke-virtual {v3}, Ljava/io/RandomAccessFile;->close()V

    goto :goto_9

    .line 135302
    :cond_9
    new-instance v6, Lcom/facebook/soloader/u;

    move-object p0, p1

    invoke-direct/range {v6 .. v12}, Lcom/facebook/soloader/u;-><init>(Lcom/facebook/soloader/t;Ljava/io/File;[BLcom/facebook/soloader/w;Ljava/io/File;Lcom/facebook/soloader/j;)V

    .line 135303
    and-int/lit8 v0, p2, 0x1

    if-eqz v0, :cond_a

    .line 135304
    new-instance v3, Ljava/lang/Thread;

    new-instance v1, Ljava/lang/StringBuilder;

    const-string v0, "SoSync:"

    invoke-direct {v1, v0}, Ljava/lang/StringBuilder;-><init>(Ljava/lang/String;)V

    iget-object v0, v7, Lcom/facebook/soloader/e;->a:Ljava/io/File;

    invoke-virtual {v0}, Ljava/io/File;->getName()Ljava/lang/String;

    move-result-object v0

    invoke-virtual {v1, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v0

    invoke-virtual {v0}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v0

    invoke-direct {v3, v6, v0}, Ljava/lang/Thread;-><init>(Ljava/lang/Runnable;Ljava/lang/String;)V

    invoke-virtual {v3}, Ljava/lang/Thread;->start()V

    :goto_a
    move v6, v2

    .line 135305
    goto :goto_1

    .line 135306
    :cond_a
    invoke-interface {v6}, Ljava/lang/Runnable;->run()V

    goto :goto_a

    .line 135307
    :catchall_6
    move-exception v1

    move-object v2, v10

    goto :goto_4

    .line 135308
    :catchall_7
    move-exception v1

    goto :goto_2
.end method

.method private static c(Lcom/facebook/soloader/t;Ljava/lang/String;)Ljava/lang/Object;
    .locals 3

    .prologue
    .line 135330
    iget-object v2, p0, Lcom/facebook/soloader/t;->d:Ljava/util/Map;

    monitor-enter v2

    .line 135331
    :try_start_0
    iget-object v0, p0, Lcom/facebook/soloader/t;->d:Ljava/util/Map;

    invoke-interface {v0, p1}, Ljava/util/Map;->get(Ljava/lang/Object;)Ljava/lang/Object;

    move-result-object v1

    .line 135332
    if-nez v1, :cond_0

    .line 135333
    new-instance v1, Ljava/lang/Object;

    invoke-direct {v1}, Ljava/lang/Object;-><init>()V

    .line 135334
    iget-object v0, p0, Lcom/facebook/soloader/t;->d:Ljava/util/Map;

    invoke-interface {v0, p1, v1}, Ljava/util/Map;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;

    .line 135335
    :cond_0
    monitor-exit v2

    return-object v1

    .line 135336
    :catchall_0
    move-exception v0

    monitor-exit v2
    :try_end_0
    .catchall {:try_start_0 .. :try_end_0} :catchall_0

    throw v0
.end method


# virtual methods
.method public final a(Ljava/lang/String;ILandroid/os/StrictMode$ThreadPolicy;)I
    .locals 2

    .prologue
    .line 135159
    invoke-static {p0, p1}, Lcom/facebook/soloader/t;->c(Lcom/facebook/soloader/t;Ljava/lang/String;)Ljava/lang/Object;

    move-result-object v1

    .line 135160
    monitor-enter v1

    .line 135161
    :try_start_0
    iget-object v0, p0, Lcom/facebook/soloader/e;->a:Ljava/io/File;

    invoke-virtual {p0, p1, p2, v0, p3}, Lcom/facebook/soloader/e;->a(Ljava/lang/String;ILjava/io/File;Landroid/os/StrictMode$ThreadPolicy;)I

    move-result v0

    monitor-exit v1

    return v0

    .line 135162
    :catchall_0
    move-exception v0

    monitor-exit v1
    :try_end_0
    .catchall {:try_start_0 .. :try_end_0} :catchall_0

    throw v0
.end method

.method public abstract a()Lcom/facebook/soloader/z;
.end method

.method public final a(I)V
    .locals 4

    .prologue
    .line 135163
    iget-object v0, p0, Lcom/facebook/soloader/e;->a:Ljava/io/File;

    invoke-static {v0}, Lcom/instagram/common/guavalite/a/e;->b(Ljava/io/File;)V

    .line 135164
    new-instance v2, Ljava/io/File;

    iget-object v1, p0, Lcom/facebook/soloader/e;->a:Ljava/io/File;

    const-string v0, "dso_lock"

    invoke-direct {v2, v1, v0}, Ljava/io/File;-><init>(Ljava/io/File;Ljava/lang/String;)V

    .line 135165
    new-instance v3, Lcom/facebook/soloader/j;

    invoke-direct {v3, v2}, Lcom/facebook/soloader/j;-><init>(Ljava/io/File;)V

    .line 135166
    :try_start_0
    new-instance v1, Ljava/lang/StringBuilder;

    const-string v0, "locked dso store "

    invoke-direct {v1, v0}, Ljava/lang/StringBuilder;-><init>(Ljava/lang/String;)V

    iget-object v0, p0, Lcom/facebook/soloader/e;->a:Ljava/io/File;

    invoke-virtual {v1, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;

    .line 135167
    invoke-virtual {p0}, Lcom/facebook/soloader/t;->b()[B

    move-result-object v0

    invoke-direct {p0, v3, p1, v0}, Lcom/facebook/soloader/t;->a(Lcom/facebook/soloader/j;I[B)Z

    move-result v0

    if-eqz v0, :cond_0

    .line 135168
    const/4 v3, 0x0

    .line 135169
    :goto_0
    if-eqz v3, :cond_1
    :try_end_0
    .catchall {:try_start_0 .. :try_end_0} :catchall_0

    .line 135170
    new-instance v1, Ljava/lang/StringBuilder;

    const-string v0, "releasing dso store lock for "

    invoke-direct {v1, v0}, Ljava/lang/StringBuilder;-><init>(Ljava/lang/String;)V

    iget-object v0, p0, Lcom/facebook/soloader/e;->a:Ljava/io/File;

    invoke-virtual {v1, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;

    .line 135171
    invoke-virtual {v3}, Lcom/facebook/soloader/j;->close()V

    .line 135172
    :goto_1
    return-void

    .line 135173
    :cond_0
    :try_start_1
    new-instance v1, Ljava/lang/StringBuilder;

    const-string v0, "dso store is up-to-date: "

    invoke-direct {v1, v0}, Ljava/lang/StringBuilder;-><init>(Ljava/lang/String;)V

    iget-object v0, p0, Lcom/facebook/soloader/e;->a:Ljava/io/File;

    invoke-virtual {v1, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;

    goto :goto_0
    :try_end_1
    .catchall {:try_start_1 .. :try_end_1} :catchall_0

    .line 135174
    :cond_1
    new-instance v1, Ljava/lang/StringBuilder;

    const-string v0, "not releasing dso store lock for "

    invoke-direct {v1, v0}, Ljava/lang/StringBuilder;-><init>(Ljava/lang/String;)V

    iget-object v0, p0, Lcom/facebook/soloader/e;->a:Ljava/io/File;

    invoke-virtual {v1, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;

    move-result-object v1

    const-string v0, " (syncer thread started)"

    invoke-virtual {v1, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    goto :goto_1

    .line 135175
    :catchall_0
    move-exception v2

    if-eqz v3, :cond_2

    .line 135176
    new-instance v1, Ljava/lang/StringBuilder;

    const-string v0, "releasing dso store lock for "

    invoke-direct {v1, v0}, Ljava/lang/StringBuilder;-><init>(Ljava/lang/String;)V

    iget-object v0, p0, Lcom/facebook/soloader/e;->a:Ljava/io/File;

    invoke-virtual {v1, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;

    .line 135177
    invoke-virtual {v3}, Lcom/facebook/soloader/j;->close()V

    .line 135178
    :goto_2
    throw v2

    :cond_2
    new-instance v1, Ljava/lang/StringBuilder;

    const-string v0, "not releasing dso store lock for "

    invoke-direct {v1, v0}, Ljava/lang/StringBuilder;-><init>(Ljava/lang/String;)V

    iget-object v0, p0, Lcom/facebook/soloader/e;->a:Ljava/io/File;

    invoke-virtual {v1, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;

    move-result-object v1

    const-string v0, " (syncer thread started)"

    invoke-virtual {v1, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    goto :goto_2
.end method

.method public final declared-synchronized b(Ljava/lang/String;)V
    .locals 2

    .prologue
    .line 135309
    monitor-enter p0

    :try_start_0
    invoke-static {p0, p1}, Lcom/facebook/soloader/t;->c(Lcom/facebook/soloader/t;Ljava/lang/String;)Ljava/lang/Object;

    move-result-object v1

    .line 135310
    monitor-enter v1
    :try_end_0
    .catchall {:try_start_0 .. :try_end_0} :catchall_1

    .line 135311
    :try_start_1
    iput-object p1, p0, Lcom/facebook/soloader/t;->f:Ljava/lang/String;

    .line 135312
    const/4 v0, 0x2

    invoke-virtual {p0, v0}, Lcom/facebook/soloader/t;->a(I)V

    .line 135313
    monitor-exit v1
    :try_end_1
    .catchall {:try_start_1 .. :try_end_1} :catchall_0

    monitor-exit p0

    return-void

    :catchall_0
    move-exception v0

    :try_start_2
    monitor-exit v1
    :try_end_2
    .catchall {:try_start_2 .. :try_end_2} :catchall_0

    :try_start_3
    throw v0
    :try_end_3
    .catchall {:try_start_3 .. :try_end_3} :catchall_1

    .line 135314
    :catchall_1
    move-exception v0

    monitor-exit p0

    throw v0
.end method

.method public b()[B
    .locals 6

    .prologue
    .line 135315
    invoke-static {}, Landroid/os/Parcel;->obtain()Landroid/os/Parcel;

    move-result-object v5

    .line 135316
    invoke-virtual {p0}, Lcom/facebook/soloader/t;->a()Lcom/facebook/soloader/z;

    move-result-object v4

    const/4 v2, 0x0

    .line 135317
    :try_start_0
    invoke-virtual {v4}, Lcom/facebook/soloader/z;->b()Lcom/facebook/soloader/w;

    move-result-object v0

    iget-object v3, v0, Lcom/facebook/soloader/w;->a:[Lcom/facebook/soloader/v;

    .line 135318
    const/4 v0, 0x1

    invoke-virtual {v5, v0}, Landroid/os/Parcel;->writeByte(B)V

    .line 135319
    array-length v0, v3

    invoke-virtual {v5, v0}, Landroid/os/Parcel;->writeInt(I)V

    .line 135320
    const/4 v1, 0x0

    :goto_0
    array-length v0, v3

    if-ge v1, v0, :cond_0

    .line 135321
    aget-object v0, v3, v1

    iget-object v0, v0, Lcom/facebook/soloader/v;->c:Ljava/lang/String;

    invoke-virtual {v5, v0}, Landroid/os/Parcel;->writeString(Ljava/lang/String;)V

    .line 135322
    aget-object v0, v3, v1

    iget-object v0, v0, Lcom/facebook/soloader/v;->d:Ljava/lang/String;

    invoke-virtual {v5, v0}, Landroid/os/Parcel;->writeString(Ljava/lang/String;)V

    .line 135323
    add-int/lit8 v1, v1, 0x1

    goto :goto_0
    :try_end_0
    .catch Ljava/lang/Throwable; {:try_start_0 .. :try_end_0} :catch_0
    .catchall {:try_start_0 .. :try_end_0} :catchall_1

    .line 135324
    :cond_0
    invoke-virtual {v4}, Lcom/facebook/soloader/z;->close()V

    .line 135325
    invoke-virtual {v5}, Landroid/os/Parcel;->marshall()[B

    move-result-object v0

    .line 135326
    invoke-virtual {v5}, Landroid/os/Parcel;->recycle()V

    .line 135327
    return-object v0

    .line 135328
    :catch_0
    move-exception v2

    :try_start_1
    throw v2
    :try_end_1
    .catchall {:try_start_1 .. :try_end_1} :catchall_0

    .line 135329
    :catchall_0
    move-exception v1

    :goto_1
    if-eqz v2, :cond_1

    :try_start_2
    invoke-virtual {v4}, Lcom/facebook/soloader/z;->close()V
    :try_end_2
    .catch Ljava/lang/Throwable; {:try_start_2 .. :try_end_2} :catch_1

    :goto_2
    throw v1

    :catch_1
    move-exception v0

    invoke-static {v2, v0}, Lcom/instagram/common/guavalite/a/e;->a(Ljava/lang/Throwable;Ljava/lang/Throwable;)V

    goto :goto_2

    :cond_1
    invoke-virtual {v4}, Lcom/facebook/soloader/z;->close()V

    goto :goto_2

    :catchall_1
    move-exception v1

    goto :goto_1
.end method
