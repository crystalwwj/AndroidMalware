.class public final Lcom/facebook/mlite/view/b/a/j;
.super Ljava/lang/Object;
.source ""

# interfaces
.implements Ljava/lang/Runnable;


# instance fields
.field public final synthetic a:Landroid/content/Context;

.field public final synthetic b:Ljava/lang/String;

.field public final synthetic c:Ljava/util/concurrent/atomic/AtomicReference;

.field public final synthetic d:Ljava/lang/Runnable;


# direct methods
.method public constructor <init>(Landroid/content/Context;Ljava/lang/String;Ljava/util/concurrent/atomic/AtomicReference;Ljava/lang/Runnable;)V
    .locals 0

    .prologue
    .line 120468
    iput-object p1, p0, Lcom/facebook/mlite/view/b/a/j;->a:Landroid/content/Context;

    iput-object p2, p0, Lcom/facebook/mlite/view/b/a/j;->b:Ljava/lang/String;

    iput-object p3, p0, Lcom/facebook/mlite/view/b/a/j;->c:Ljava/util/concurrent/atomic/AtomicReference;

    iput-object p4, p0, Lcom/facebook/mlite/view/b/a/j;->d:Ljava/lang/Runnable;

    invoke-direct {p0}, Ljava/lang/Object;-><init>()V

    return-void
.end method


# virtual methods
.method public final run()V
    .locals 32

    .prologue
    .line 120469
    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/facebook/mlite/view/b/a/j;->a:Landroid/content/Context;

    .line 120470
    invoke-virtual {v0}, Landroid/content/Context;->getResources()Landroid/content/res/Resources;

    move-result-object v31

    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/facebook/mlite/view/b/a/j;->b:Ljava/lang/String;

    .line 120471
    const/4 v4, 0x0

    .line 120472
    :try_start_0
    invoke-static {v0}, Lcom/facebook/mlite/util/s/a;->b(Ljava/lang/String;)[B

    move-result-object v3

    .line 120473
    sget v1, Landroid/os/Build$VERSION;->SDK_INT:I

    const/16 v0, 0xb

    if-lt v1, v0, :cond_e

    .line 120474
    invoke-static {v3}, Lcom/facebook/mlite/util/s/b;->b([B)Landroid/graphics/Bitmap;

    move-result-object v5

    .line 120475
    :goto_0
    invoke-virtual {v5}, Landroid/graphics/Bitmap;->getWidth()I

    move-result v8

    .line 120476
    invoke-virtual {v5}, Landroid/graphics/Bitmap;->getHeight()I

    move-result v7

    .line 120477
    mul-int v0, v8, v7

    new-array v6, v0, [I

    .line 120478
    const/4 v11, 0x0

    const/4 v13, 0x0

    const/4 v14, 0x0

    move-object v9, v5

    move-object v10, v6

    move v12, v8

    move v15, v8

    move/from16 v16, v7

    invoke-virtual/range {v9 .. v16}, Landroid/graphics/Bitmap;->getPixels([IIIIIII)V

    .line 120479
    add-int/lit8 v15, v8, -0x1

    .line 120480
    add-int/lit8 v14, v7, -0x1

    .line 120481
    mul-int v0, v8, v7

    .line 120482
    new-array v13, v0, [I

    .line 120483
    new-array v12, v0, [I

    .line 120484
    new-array v11, v0, [I

    .line 120485
    invoke-static {v8, v7}, Ljava/lang/Math;->max(II)I

    move-result v0

    new-array v10, v0, [I

    .line 120486
    const/16 v0, 0x2400

    new-array v9, v0, [I

    .line 120487
    const/4 v1, 0x0

    :goto_1
    const/16 v0, 0x2400

    if-ge v1, v0, :cond_0

    .line 120488
    div-int/lit8 v0, v1, 0x24

    aput v0, v9, v1

    .line 120489
    add-int/lit8 v1, v1, 0x1

    goto :goto_1

    .line 120490
    :cond_0
    const/16 v30, 0x0

    .line 120491
    const/16 v1, 0xb

    const/4 v0, 0x3

    filled-new-array {v1, v0}, [I

    move-result-object v1

    sget-object v0, Ljava/lang/Integer;->TYPE:Ljava/lang/Class;

    invoke-static {v0, v1}, Ljava/lang/reflect/Array;->newInstance(Ljava/lang/Class;[I)Ljava/lang/Object;

    move-result-object v3

    check-cast v3, [[I

    .line 120492
    const/4 v2, 0x0

    move/from16 v29, v30

    :goto_2
    if-ge v2, v7, :cond_5

    .line 120493
    const/16 v28, 0x0

    .line 120494
    const/4 v1, -0x5

    move/from16 v27, v28

    move/from16 v26, v28

    move/from16 v25, v28

    move/from16 v24, v28

    move/from16 v23, v28

    move/from16 v22, v28

    move/from16 v21, v28

    move/from16 v20, v28

    :goto_3
    const/4 v0, 0x5

    if-gt v1, v0, :cond_2

    .line 120495
    const/4 v0, 0x0

    invoke-static {v1, v0}, Ljava/lang/Math;->max(II)I

    move-result v0

    invoke-static {v15, v0}, Ljava/lang/Math;->min(II)I

    move-result v0

    add-int v0, v0, v29

    aget v0, v6, v0

    .line 120496
    add-int/lit8 v16, v1, 0x5

    aget-object v18, v3, v16

    .line 120497
    const/16 v17, 0x0

    const/high16 v16, 0xff0000

    and-int v16, v16, v0

    shr-int/lit8 v16, v16, 0x10

    aput v16, v18, v17

    .line 120498
    const/16 v17, 0x1

    const v16, 0xff00

    and-int v16, v16, v0

    shr-int/lit8 v16, v16, 0x8

    aput v16, v18, v17

    .line 120499
    const/16 v16, 0x2

    and-int/lit16 v0, v0, 0xff

    aput v0, v18, v16

    .line 120500
    invoke-static {v1}, Ljava/lang/Math;->abs(I)I

    move-result v0

    rsub-int/lit8 v16, v0, 0x6

    .line 120501
    const/4 v0, 0x0

    aget v0, v18, v0

    mul-int v0, v0, v16

    add-int v21, v21, v0

    .line 120502
    const/4 v0, 0x1

    aget v0, v18, v0

    mul-int v0, v0, v16

    add-int v22, v22, v0

    .line 120503
    const/4 v0, 0x2

    aget v0, v18, v0

    mul-int v16, v16, v0

    add-int v23, v23, v16

    .line 120504
    if-lez v1, :cond_1

    .line 120505
    const/4 v0, 0x0

    aget v0, v18, v0

    add-int v27, v27, v0

    .line 120506
    const/4 v0, 0x1

    aget v0, v18, v0

    add-int v20, v20, v0

    .line 120507
    const/4 v0, 0x2

    aget v0, v18, v0

    add-int v28, v28, v0

    .line 120508
    :goto_4
    add-int/lit8 v1, v1, 0x1

    goto :goto_3

    .line 120509
    :cond_1
    const/4 v0, 0x0

    aget v0, v18, v0

    add-int v24, v24, v0

    .line 120510
    const/4 v0, 0x1

    aget v0, v18, v0

    add-int v25, v25, v0

    .line 120511
    const/4 v0, 0x2

    aget v0, v18, v0

    add-int v26, v26, v0

    goto :goto_4

    .line 120512
    :cond_2
    const/16 v19, 0x5

    .line 120513
    const/4 v1, 0x0

    :goto_5
    if-ge v1, v8, :cond_4

    .line 120514
    aget v0, v9, v21

    aput v0, v13, v29

    .line 120515
    aget v0, v9, v22

    aput v0, v12, v29

    .line 120516
    aget v0, v9, v23

    aput v0, v11, v29

    .line 120517
    sub-int v21, v21, v24

    .line 120518
    sub-int v22, v22, v25

    .line 120519
    sub-int v23, v23, v26

    .line 120520
    add-int/lit8 v0, v19, -0x5

    add-int/lit8 v0, v0, 0xb

    .line 120521
    rem-int/lit8 v0, v0, 0xb

    aget-object v18, v3, v0

    .line 120522
    const/4 v0, 0x0

    aget v0, v18, v0

    sub-int v24, v24, v0

    .line 120523
    const/4 v0, 0x1

    aget v0, v18, v0

    sub-int v25, v25, v0

    .line 120524
    const/4 v0, 0x2

    aget v0, v18, v0

    sub-int v26, v26, v0

    .line 120525
    if-nez v2, :cond_3

    .line 120526
    add-int/lit8 v0, v1, 0x5

    add-int/lit8 v0, v0, 0x1

    invoke-static {v0, v15}, Ljava/lang/Math;->min(II)I

    move-result v0

    aput v0, v10, v1

    .line 120527
    :cond_3
    aget v0, v10, v1

    add-int v0, v0, v30

    aget v0, v6, v0

    .line 120528
    const/16 v17, 0x0

    const/high16 v16, 0xff0000

    and-int v16, v16, v0

    shr-int/lit8 v16, v16, 0x10

    aput v16, v18, v17

    .line 120529
    const/16 v17, 0x1

    const v16, 0xff00

    and-int v16, v16, v0

    shr-int/lit8 v16, v16, 0x8

    aput v16, v18, v17

    .line 120530
    const/16 v16, 0x2

    and-int/lit16 v0, v0, 0xff

    aput v0, v18, v16

    .line 120531
    const/4 v0, 0x0

    aget v0, v18, v0

    add-int v27, v27, v0

    .line 120532
    const/4 v0, 0x1

    aget v0, v18, v0

    add-int v20, v20, v0

    .line 120533
    const/4 v0, 0x2

    aget v0, v18, v0

    add-int v28, v28, v0

    .line 120534
    add-int v21, v21, v27

    .line 120535
    add-int v22, v22, v20

    .line 120536
    add-int v23, v23, v28

    .line 120537
    add-int/lit8 v0, v19, 0x1

    rem-int/lit8 v19, v0, 0xb

    .line 120538
    rem-int/lit8 v0, v19, 0xb

    aget-object v16, v3, v0

    .line 120539
    const/4 v0, 0x0

    aget v0, v16, v0

    add-int v24, v24, v0

    .line 120540
    const/4 v0, 0x1

    aget v0, v16, v0

    add-int v25, v25, v0

    .line 120541
    const/4 v0, 0x2

    aget v0, v16, v0

    add-int v26, v26, v0

    .line 120542
    const/4 v0, 0x0

    aget v0, v16, v0

    sub-int v27, v27, v0

    .line 120543
    const/4 v0, 0x1

    aget v0, v16, v0

    sub-int v20, v20, v0

    .line 120544
    const/4 v0, 0x2

    aget v0, v16, v0

    sub-int v28, v28, v0

    .line 120545
    add-int/lit8 v29, v29, 0x1

    .line 120546
    add-int/lit8 v1, v1, 0x1

    goto/16 :goto_5

    .line 120547
    :cond_4
    add-int v30, v30, v8

    .line 120548
    add-int/lit8 v2, v2, 0x1

    goto/16 :goto_2

    .line 120549
    :cond_5
    const/4 v2, 0x0

    :goto_6
    if-ge v2, v8, :cond_b

    .line 120550
    const/16 v28, 0x0

    .line 120551
    mul-int/lit8 v15, v8, -0x5

    .line 120552
    const/4 v1, -0x5

    move/from16 v27, v28

    move/from16 v26, v28

    move/from16 v25, v28

    move/from16 v24, v28

    move/from16 v23, v28

    move/from16 v22, v28

    move/from16 v21, v28

    move/from16 v20, v28

    :goto_7
    const/4 v0, 0x5

    if-gt v1, v0, :cond_8

    .line 120553
    const/4 v0, 0x0

    invoke-static {v0, v15}, Ljava/lang/Math;->max(II)I

    move-result v18

    add-int v18, v18, v2

    .line 120554
    add-int/lit8 v0, v1, 0x5

    aget-object v17, v3, v0

    .line 120555
    const/16 v16, 0x0

    aget v0, v13, v18

    aput v0, v17, v16

    .line 120556
    const/16 v16, 0x1

    aget v0, v12, v18

    aput v0, v17, v16

    .line 120557
    const/16 v16, 0x2

    aget v0, v11, v18

    aput v0, v17, v16

    .line 120558
    invoke-static {v1}, Ljava/lang/Math;->abs(I)I

    move-result v0

    rsub-int/lit8 v16, v0, 0x6

    .line 120559
    aget v0, v13, v18

    mul-int v0, v0, v16

    add-int v21, v21, v0

    .line 120560
    aget v0, v12, v18

    mul-int v0, v0, v16

    add-int v22, v22, v0

    .line 120561
    aget v0, v11, v18

    mul-int v0, v0, v16

    add-int v23, v23, v0

    .line 120562
    if-lez v1, :cond_7

    .line 120563
    const/4 v0, 0x0

    aget v0, v17, v0

    add-int v27, v27, v0

    .line 120564
    const/4 v0, 0x1

    aget v0, v17, v0

    add-int v20, v20, v0

    .line 120565
    const/4 v0, 0x2

    aget v0, v17, v0

    add-int v28, v28, v0

    .line 120566
    :goto_8
    if-ge v1, v14, :cond_6

    .line 120567
    add-int/2addr v15, v8

    .line 120568
    :cond_6
    add-int/lit8 v1, v1, 0x1

    goto :goto_7

    .line 120569
    :cond_7
    const/4 v0, 0x0

    aget v0, v17, v0

    add-int v24, v24, v0

    .line 120570
    const/4 v0, 0x1

    aget v0, v17, v0

    add-int v25, v25, v0

    .line 120571
    const/4 v0, 0x2

    aget v0, v17, v0

    add-int v26, v26, v0

    goto :goto_8

    .line 120572
    :cond_8
    const/16 v19, 0x5

    .line 120573
    const/4 v1, 0x0

    move/from16 v18, v2

    :goto_9
    if-ge v1, v7, :cond_a

    .line 120574
    const/high16 v15, -0x1000000

    aget v0, v6, v18

    and-int/2addr v15, v0

    aget v0, v9, v21

    shl-int/lit8 v0, v0, 0x10

    or-int/2addr v15, v0

    aget v0, v9, v22

    shl-int/lit8 v0, v0, 0x8

    or-int/2addr v15, v0

    aget v0, v9, v23

    or-int/2addr v15, v0

    aput v15, v6, v18

    .line 120575
    sub-int v21, v21, v24

    .line 120576
    sub-int v22, v22, v25

    .line 120577
    sub-int v23, v23, v26

    .line 120578
    add-int/lit8 v0, v19, -0x5

    add-int/lit8 v0, v0, 0xb

    .line 120579
    rem-int/lit8 v0, v0, 0xb

    aget-object v17, v3, v0

    .line 120580
    const/4 v0, 0x0

    aget v0, v17, v0

    sub-int v24, v24, v0

    .line 120581
    const/4 v0, 0x1

    aget v0, v17, v0

    sub-int v25, v25, v0

    .line 120582
    const/4 v0, 0x2

    aget v0, v17, v0

    sub-int v26, v26, v0

    .line 120583
    if-nez v2, :cond_9

    .line 120584
    add-int/lit8 v0, v1, 0x6

    invoke-static {v0, v14}, Ljava/lang/Math;->min(II)I

    move-result v0

    mul-int/2addr v0, v8

    aput v0, v10, v1

    .line 120585
    :cond_9
    aget v16, v10, v1

    add-int v16, v16, v2

    .line 120586
    const/4 v15, 0x0

    aget v0, v13, v16

    aput v0, v17, v15

    .line 120587
    const/4 v15, 0x1

    aget v0, v12, v16

    aput v0, v17, v15

    .line 120588
    const/4 v15, 0x2

    aget v0, v11, v16

    aput v0, v17, v15

    .line 120589
    const/4 v0, 0x0

    aget v0, v17, v0

    add-int v27, v27, v0

    .line 120590
    const/4 v0, 0x1

    aget v0, v17, v0

    add-int v20, v20, v0

    .line 120591
    const/4 v0, 0x2

    aget v0, v17, v0

    add-int v28, v28, v0

    .line 120592
    add-int v21, v21, v27

    .line 120593
    add-int v22, v22, v20

    .line 120594
    add-int v23, v23, v28

    .line 120595
    add-int/lit8 v0, v19, 0x1

    rem-int/lit8 v19, v0, 0xb

    .line 120596
    aget-object v15, v3, v19

    .line 120597
    const/4 v0, 0x0

    aget v0, v15, v0

    add-int v24, v24, v0

    .line 120598
    const/4 v0, 0x1

    aget v0, v15, v0

    add-int v25, v25, v0

    .line 120599
    const/4 v0, 0x2

    aget v0, v15, v0

    add-int v26, v26, v0

    .line 120600
    const/4 v0, 0x0

    aget v0, v15, v0

    sub-int v27, v27, v0

    .line 120601
    const/4 v0, 0x1

    aget v0, v15, v0

    sub-int v20, v20, v0

    .line 120602
    const/4 v0, 0x2

    aget v0, v15, v0

    sub-int v28, v28, v0

    .line 120603
    add-int v18, v18, v8

    .line 120604
    add-int/lit8 v1, v1, 0x1

    goto/16 :goto_9

    .line 120605
    :cond_a
    add-int/lit8 v2, v2, 0x1

    goto/16 :goto_6

    .line 120606
    :cond_b
    const/4 v11, 0x0

    const/4 v13, 0x0

    const/4 v14, 0x0

    move-object v9, v5

    move-object v10, v6

    move v12, v8

    move v15, v8

    move/from16 v16, v7

    invoke-virtual/range {v9 .. v16}, Landroid/graphics/Bitmap;->setPixels([IIIIIII)V

    .line 120607
    :goto_a
    if-nez v5, :cond_d

    .line 120608
    const/4 v1, 0x0

    .line 120609
    :goto_b
    if-eqz v1, :cond_c
    :try_end_0
    .catch Ljava/lang/Exception; {:try_start_0 .. :try_end_0} :catch_0

    .line 120610
    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/facebook/mlite/view/b/a/j;->c:Ljava/util/concurrent/atomic/AtomicReference;

    invoke-virtual {v0, v1}, Ljava/util/concurrent/atomic/AtomicReference;->set(Ljava/lang/Object;)V

    .line 120611
    :cond_c
    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/facebook/mlite/view/b/a/j;->d:Ljava/lang/Runnable;

    invoke-static {v0}, Lcom/facebook/mlite/e/l;->a(Ljava/lang/Runnable;)V

    .line 120612
    return-void

    :cond_d
    new-instance v1, Landroid/graphics/drawable/BitmapDrawable;

    move-object/from16 v0, v31

    invoke-direct {v1, v0, v5}, Landroid/graphics/drawable/BitmapDrawable;-><init>(Landroid/content/res/Resources;Landroid/graphics/Bitmap;)V

    goto :goto_b

    .line 120613
    :cond_e
    :try_start_1
    new-instance v2, Landroid/graphics/BitmapFactory$Options;

    invoke-direct {v2}, Landroid/graphics/BitmapFactory$Options;-><init>()V

    .line 120614
    const/4 v1, 0x0

    array-length v0, v3

    .line 120615
    invoke-static {v3, v1, v0, v2}, Landroid/graphics/BitmapFactory;->decodeByteArray([BIILandroid/graphics/BitmapFactory$Options;)Landroid/graphics/Bitmap;

    move-result-object v2

    .line 120616
    invoke-virtual {v2}, Landroid/graphics/Bitmap;->getConfig()Landroid/graphics/Bitmap$Config;

    move-result-object v1

    const/4 v0, 0x1

    invoke-virtual {v2, v1, v0}, Landroid/graphics/Bitmap;->copy(Landroid/graphics/Bitmap$Config;Z)Landroid/graphics/Bitmap;

    move-result-object v5

    .line 120617
    invoke-virtual {v2}, Landroid/graphics/Bitmap;->recycle()V

    goto/16 :goto_0
    :try_end_1
    .catch Ljava/lang/Exception; {:try_start_1 .. :try_end_1} :catch_0

    .line 120618
    :catch_0
    move-exception v3

    .line 120619
    const-string v2, "MiniPreviewDecoder"

    const-string v1, "Unexpected exception while decoding mini-preview"

    new-array v0, v4, [Ljava/lang/Object;

    invoke-static {v2, v3, v1, v0}, Lcom/facebook/debug/a/a;->c(Ljava/lang/String;Ljava/lang/Throwable;Ljava/lang/String;[Ljava/lang/Object;)V

    .line 120620
    const/4 v5, 0x0

    goto :goto_a
.end method
