.class public final Lcom/facebook/mlite/view/b/a/p;
.super Ljava/lang/Object;
.source ""


# static fields
.field public static a:I


# direct methods
.method public static constructor <clinit>()V
    .locals 1

    .prologue
    .line 120628
    const/4 v0, -0x1

    sput v0, Lcom/facebook/mlite/view/b/a/p;->a:I

    return-void
.end method

.method public static a(I)I
    .locals 13

    .prologue
    .line 120629
    const/4 v11, 0x1

    const/4 v5, 0x0

    .line 120630
    sget v0, Lcom/facebook/mlite/view/b/a/p;->a:I

    if-gez v0, :cond_0

    .line 120631
    invoke-static {}, Ljavax/microedition/khronos/egl/EGLContext;->getEGL()Ljavax/microedition/khronos/egl/EGL;

    move-result-object v7

    check-cast v7, Ljavax/microedition/khronos/egl/EGL10;

    .line 120632
    sget-object v0, Ljavax/microedition/khronos/egl/EGL10;->EGL_DEFAULT_DISPLAY:Ljava/lang/Object;

    invoke-interface {v7, v0}, Ljavax/microedition/khronos/egl/EGL10;->eglGetDisplay(Ljava/lang/Object;)Ljavax/microedition/khronos/egl/EGLDisplay;

    move-result-object v8

    .line 120633
    const/4 v0, 0x2

    new-array v0, v0, [I

    .line 120634
    invoke-interface {v7, v8, v0}, Ljavax/microedition/khronos/egl/EGL10;->eglInitialize(Ljavax/microedition/khronos/egl/EGLDisplay;[I)Z

    .line 120635
    const/4 v0, 0x7

    new-array v9, v0, [I

    fill-array-data v9, :array_0

    .line 120636
    new-array v10, v11, [Ljavax/microedition/khronos/egl/EGLConfig;

    .line 120637
    new-array v12, v11, [I

    .line 120638
    invoke-interface/range {v7 .. v12}, Ljavax/microedition/khronos/egl/EGL10;->eglChooseConfig(Ljavax/microedition/khronos/egl/EGLDisplay;[I[Ljavax/microedition/khronos/egl/EGLConfig;I[I)Z

    .line 120639
    aget v0, v12, v5

    if-nez v0, :cond_4

    .line 120640
    const/16 v0, 0x800

    sput v0, Lcom/facebook/mlite/view/b/a/p;->a:I

    .line 120641
    const-string v2, "MLite/OpenGlUtil"

    const-string v1, "No config found, use default value: %d"

    sget v0, Lcom/facebook/mlite/view/b/a/p;->a:I

    invoke-static {v0}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v0

    invoke-static {v2, v1, v0}, Lcom/facebook/debug/a/a;->a(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Object;)V

    .line 120642
    :goto_0
    const-string v2, "MLite/OpenGlUtil"

    const-string v1, "OpenGL max texture size: %d"

    sget v0, Lcom/facebook/mlite/view/b/a/p;->a:I

    invoke-static {v0}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v0

    invoke-static {v2, v1, v0}, Lcom/facebook/debug/a/a;->a(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Object;)V

    .line 120643
    :cond_0
    sget v0, Lcom/facebook/mlite/view/b/a/p;->a:I

    .line 120644
    if-gtz v0, :cond_2

    .line 120645
    :cond_1
    :goto_1
    return p0

    .line 120646
    :cond_2
    if-lez p0, :cond_3

    if-le p0, v0, :cond_1

    :cond_3
    move p0, v0

    .line 120647
    goto :goto_1

    .line 120648
    :cond_4
    aget-object v2, v10, v5

    .line 120649
    const/4 v0, 0x5

    new-array v0, v0, [I

    fill-array-data v0, :array_1

    .line 120650
    invoke-interface {v7, v8, v2, v0}, Ljavax/microedition/khronos/egl/EGL10;->eglCreatePbufferSurface(Ljavax/microedition/khronos/egl/EGLDisplay;Ljavax/microedition/khronos/egl/EGLConfig;[I)Ljavax/microedition/khronos/egl/EGLSurface;

    move-result-object v6

    .line 120651
    const/4 v0, 0x3

    new-array v1, v0, [I

    fill-array-data v1, :array_2

    .line 120652
    sget-object v0, Ljavax/microedition/khronos/egl/EGL10;->EGL_NO_CONTEXT:Ljavax/microedition/khronos/egl/EGLContext;

    .line 120653
    invoke-interface {v7, v8, v2, v0, v1}, Ljavax/microedition/khronos/egl/EGL10;->eglCreateContext(Ljavax/microedition/khronos/egl/EGLDisplay;Ljavax/microedition/khronos/egl/EGLConfig;Ljavax/microedition/khronos/egl/EGLContext;[I)Ljavax/microedition/khronos/egl/EGLContext;

    move-result-object v4

    .line 120654
    invoke-interface {v7, v8, v6, v6, v4}, Ljavax/microedition/khronos/egl/EGL10;->eglMakeCurrent(Ljavax/microedition/khronos/egl/EGLDisplay;Ljavax/microedition/khronos/egl/EGLSurface;Ljavax/microedition/khronos/egl/EGLSurface;Ljavax/microedition/khronos/egl/EGLContext;)Z

    .line 120655
    new-array v3, v11, [I

    .line 120656
    const/16 v0, 0xd33

    invoke-static {v0, v3, v5}, Landroid/opengl/GLES10;->glGetIntegerv(I[II)V

    .line 120657
    sget-object v2, Ljavax/microedition/khronos/egl/EGL10;->EGL_NO_SURFACE:Ljavax/microedition/khronos/egl/EGLSurface;

    sget-object v1, Ljavax/microedition/khronos/egl/EGL10;->EGL_NO_SURFACE:Ljavax/microedition/khronos/egl/EGLSurface;

    sget-object v0, Ljavax/microedition/khronos/egl/EGL10;->EGL_NO_CONTEXT:Ljavax/microedition/khronos/egl/EGLContext;

    invoke-interface {v7, v8, v2, v1, v0}, Ljavax/microedition/khronos/egl/EGL10;->eglMakeCurrent(Ljavax/microedition/khronos/egl/EGLDisplay;Ljavax/microedition/khronos/egl/EGLSurface;Ljavax/microedition/khronos/egl/EGLSurface;Ljavax/microedition/khronos/egl/EGLContext;)Z

    .line 120658
    invoke-interface {v7, v8, v6}, Ljavax/microedition/khronos/egl/EGL10;->eglDestroySurface(Ljavax/microedition/khronos/egl/EGLDisplay;Ljavax/microedition/khronos/egl/EGLSurface;)Z

    .line 120659
    invoke-interface {v7, v8, v4}, Ljavax/microedition/khronos/egl/EGL10;->eglDestroyContext(Ljavax/microedition/khronos/egl/EGLDisplay;Ljavax/microedition/khronos/egl/EGLContext;)Z

    .line 120660
    invoke-interface {v7, v8}, Ljavax/microedition/khronos/egl/EGL10;->eglTerminate(Ljavax/microedition/khronos/egl/EGLDisplay;)Z

    .line 120661
    aget v0, v3, v5

    sput v0, Lcom/facebook/mlite/view/b/a/p;->a:I

    goto :goto_0

    nop

    :array_0
    .array-data 4
        0x303f
        0x308e
        0x3029
        0x0
        0x3033
        0x1
        0x3038
    .end array-data

    :array_1
    .array-data 4
        0x3057
        0x40
        0x3056
        0x40
        0x3038
    .end array-data

    :array_2
    .array-data 4
        0x3098
        0x1
        0x3038
    .end array-data
.end method
