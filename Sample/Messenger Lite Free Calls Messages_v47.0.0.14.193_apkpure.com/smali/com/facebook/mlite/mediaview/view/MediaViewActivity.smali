.class public Lcom/facebook/mlite/mediaview/view/MediaViewActivity;
.super Lcom/facebook/mlite/coreui/base/e;
.source ""


# instance fields
.field private j:Lcom/facebook/mlite/mediaview/view/p;

.field public k:Lcom/facebook/mlite/mediaview/view/e;

.field private l:I

.field public final m:Lcom/facebook/mlite/util/compatibility/b/a;

.field public n:Landroid/view/View;


# direct methods
.method public constructor <init>()V
    .locals 2

    .prologue
    .line 90407
    invoke-direct {p0}, Lcom/facebook/mlite/coreui/base/e;-><init>()V

    .line 90408
    const/4 v0, 0x0

    iput v0, p0, Lcom/facebook/mlite/mediaview/view/MediaViewActivity;->l:I

    .line 90409
    sget v1, Landroid/os/Build$VERSION;->SDK_INT:I

    const/16 v0, 0x15

    if-lt v1, v0, :cond_0

    .line 90410
    new-instance v0, Lcom/facebook/mlite/util/compatibility/b/g;

    invoke-direct {v0, p0}, Lcom/facebook/mlite/util/compatibility/b/g;-><init>(Landroid/app/Activity;)V

    .line 90411
    :goto_0
    iput-object v0, p0, Lcom/facebook/mlite/mediaview/view/MediaViewActivity;->m:Lcom/facebook/mlite/util/compatibility/b/a;

    return-void

    .line 90412
    :cond_0
    sget v1, Landroid/os/Build$VERSION;->SDK_INT:I

    const/16 v0, 0x10

    if-lt v1, v0, :cond_1

    .line 90413
    new-instance v0, Lcom/facebook/mlite/util/compatibility/b/e;

    invoke-direct {v0, p0}, Lcom/facebook/mlite/util/compatibility/b/e;-><init>(Landroid/app/Activity;)V

    goto :goto_0

    .line 90414
    :cond_1
    new-instance v0, Lcom/facebook/mlite/util/compatibility/b/d;

    invoke-direct {v0, p0}, Lcom/facebook/mlite/util/compatibility/b/d;-><init>(Landroid/app/Activity;)V

    goto :goto_0
.end method

.method private c(Landroid/content/Intent;)V
    .locals 5
    .param p1    # Landroid/content/Intent;
        .annotation build Ljavax/annotation/Nullable;
        .end annotation
    .end param

    .prologue
    .line 90436
    if-nez p1, :cond_0

    .line 90437
    const-string v1, "MediaViewActivity"

    const-string v0, "invoked with no intent, exiting"

    invoke-static {v1, v0}, Lcom/facebook/debug/a/a;->c(Ljava/lang/String;Ljava/lang/String;)V

    .line 90438
    invoke-virtual {p0}, Lcom/facebook/mlite/mediaview/view/MediaViewActivity;->finish()V

    .line 90439
    :goto_0
    return-void

    .line 90440
    :cond_0
    const-string v0, "media"

    invoke-virtual {p1, v0}, Landroid/content/Intent;->getParcelableExtra(Ljava/lang/String;)Landroid/os/Parcelable;

    move-result-object v0

    check-cast v0, Landroid/os/Bundle;

    invoke-static {v0}, Lcom/facebook/mlite/mediaview/b/a;->a(Landroid/os/Bundle;)Lcom/facebook/mlite/mediaview/b/a;

    move-result-object v2

    .line 90441
    const-string v1, "is_download_from_server"

    const/4 v0, 0x1

    invoke-virtual {p1, v1, v0}, Landroid/content/Intent;->getBooleanExtra(Ljava/lang/String;Z)Z

    move-result v4

    .line 90442
    iget-object v0, v2, Lcom/facebook/mlite/mediaview/b/a;->d:Ljava/lang/String;

    invoke-static {v0}, Lcom/facebook/liblite/c/c/a;->c(Ljava/lang/String;)Z

    move-result v0

    if-eqz v0, :cond_4

    .line 90443
    iget-object v0, v2, Lcom/facebook/mlite/mediaview/b/a;->d:Ljava/lang/String;

    invoke-static {v0}, Lcom/instagram/common/guavalite/a/e;->d(Ljava/lang/String;)Z

    move-result v0

    if-eqz v0, :cond_3

    .line 90444
    new-instance v3, Lcom/facebook/mlite/mediaview/view/AnimatedImageFragment;

    invoke-direct {v3}, Lcom/facebook/mlite/mediaview/view/AnimatedImageFragment;-><init>()V

    .line 90445
    :goto_1
    invoke-virtual {v2}, Lcom/facebook/mlite/mediaview/b/a;->a()Landroid/os/Bundle;

    move-result-object v2

    .line 90446
    if-eqz v4, :cond_6

    const/4 v0, 0x1

    :goto_2
    invoke-virtual {v2, v1, v0}, Landroid/os/Bundle;->putInt(Ljava/lang/String;I)V

    .line 90447
    invoke-virtual {v3, v2}, Landroid/support/v4/app/r;->g(Landroid/os/Bundle;)V

    .line 90448
    :goto_3
    if-nez v3, :cond_1

    .line 90449
    iget-object v0, p0, Lcom/facebook/mlite/mediaview/view/MediaViewActivity;->k:Lcom/facebook/mlite/mediaview/view/e;

    invoke-virtual {v0}, Lcom/facebook/mlite/mediaview/view/e;->a()V

    goto :goto_0

    .line 90450
    :cond_1
    invoke-virtual {p0}, Landroid/support/v4/app/u;->e_()Landroid/support/v4/app/ab;

    move-result-object v0

    .line 90451
    invoke-virtual {v0}, Landroid/support/v4/app/ab;->a()Landroid/support/v4/app/FragmentTransaction;

    move-result-object v1

    const v0, 0x7f0800f7

    .line 90452
    invoke-virtual {v1, v0, v3}, Landroid/support/v4/app/FragmentTransaction;->b(ILandroid/support/v4/app/r;)Landroid/support/v4/app/FragmentTransaction;

    move-result-object v1

    .line 90453
    invoke-direct {p0}, Lcom/facebook/mlite/mediaview/view/MediaViewActivity;->s()Lcom/facebook/mlite/mediaview/view/MediaFragment;

    move-result-object v0

    if-eqz v0, :cond_2

    .line 90454
    invoke-virtual {v1}, Landroid/support/v4/app/FragmentTransaction;->a()Landroid/support/v4/app/FragmentTransaction;

    .line 90455
    :cond_2
    invoke-virtual {v1}, Landroid/support/v4/app/FragmentTransaction;->b()I

    goto :goto_0

    .line 90456
    :cond_3
    new-instance v3, Lcom/facebook/mlite/mediaview/view/PhotoViewFragment;

    invoke-direct {v3}, Lcom/facebook/mlite/mediaview/view/PhotoViewFragment;-><init>()V

    goto :goto_1

    .line 90457
    :cond_4
    iget-object v0, v2, Lcom/facebook/mlite/mediaview/b/a;->d:Ljava/lang/String;

    invoke-static {v0}, Lcom/instagram/common/guavalite/a/e;->f(Ljava/lang/String;)Z

    move-result v0

    if-eqz v0, :cond_5

    .line 90458
    new-instance v3, Lcom/facebook/mlite/mediaview/view/VideoViewFragment;

    invoke-direct {v3}, Lcom/facebook/mlite/mediaview/view/VideoViewFragment;-><init>()V

    goto :goto_1

    .line 90459
    :cond_5
    const/4 v3, 0x0

    goto :goto_3

    .line 90460
    :cond_6
    const/4 v0, 0x0

    goto :goto_2
.end method

.method private s()Lcom/facebook/mlite/mediaview/view/MediaFragment;
    .locals 1
    .annotation build Ljavax/annotation/Nullable;
    .end annotation

    .prologue
    .line 90496
    invoke-virtual {p0}, Landroid/support/v4/app/u;->e_()Landroid/support/v4/app/ab;

    move-result-object p0

    const v0, 0x7f0800f7

    invoke-virtual {p0, v0}, Landroid/support/v4/app/ab;->a(I)Landroid/support/v4/app/r;

    move-result-object v0

    check-cast v0, Lcom/facebook/mlite/mediaview/view/MediaFragment;

    return-object v0
.end method

.method public static v(Lcom/facebook/mlite/mediaview/view/MediaViewActivity;)Lcom/facebook/mlite/mediaview/b/a;
    .locals 1
    .annotation build Ljavax/annotation/Nullable;
    .end annotation

    .prologue
    .line 90497
    invoke-direct {p0}, Lcom/facebook/mlite/mediaview/view/MediaViewActivity;->s()Lcom/facebook/mlite/mediaview/view/MediaFragment;

    move-result-object v0

    .line 90498
    if-nez v0, :cond_0

    .line 90499
    const-string p0, "MediaViewActivity"

    const-string v0, "MediaFragment is null in getMediaItemFromFragment"

    invoke-static {p0, v0}, Lcom/facebook/debug/a/a;->d(Ljava/lang/String;Ljava/lang/String;)V

    .line 90500
    const/4 v0, 0x0

    .line 90501
    :goto_0
    return-object v0

    .line 90502
    :cond_0
    iget-object v0, v0, Lcom/facebook/mlite/mediaview/view/MediaFragment;->c:Lcom/facebook/mlite/mediaview/b/a;

    .line 90503
    goto :goto_0
.end method


# virtual methods
.method public final a(Landroid/os/Bundle;)V
    .locals 3
    .param p1    # Landroid/os/Bundle;
        .annotation build Ljavax/annotation/Nullable;
        .end annotation
    .end param

    .prologue
    .line 90415
    invoke-super {p0, p1}, Lcom/facebook/mlite/coreui/base/e;->a(Landroid/os/Bundle;)V

    .line 90416
    const v0, 0x7f0a0025

    invoke-virtual {p0, v0}, Lcom/facebook/mlite/mediaview/view/MediaViewActivity;->setContentView(I)V

    .line 90417
    new-instance v0, Lcom/facebook/mlite/mediaview/view/e;

    invoke-direct {v0, p0}, Lcom/facebook/mlite/mediaview/view/e;-><init>(Lcom/facebook/mlite/mediaview/view/MediaViewActivity;)V

    iput-object v0, p0, Lcom/facebook/mlite/mediaview/view/MediaViewActivity;->k:Lcom/facebook/mlite/mediaview/view/e;

    .line 90418
    const v0, 0x7f0801b5

    invoke-virtual {p0, v0}, Lcom/facebook/mlite/mediaview/view/MediaViewActivity;->findViewById(I)Landroid/view/View;

    move-result-object v0

    iput-object v0, p0, Lcom/facebook/mlite/mediaview/view/MediaViewActivity;->n:Landroid/view/View;

    .line 90419
    const v0, 0x7f0801b4

    invoke-virtual {p0, v0}, Lcom/facebook/mlite/mediaview/view/MediaViewActivity;->findViewById(I)Landroid/view/View;

    move-result-object v2

    check-cast v2, Landroid/support/v7/widget/Toolbar;

    .line 90420
    invoke-virtual {p0, v2}, Landroid/support/v7/app/q;->a(Landroid/support/v7/widget/Toolbar;)V

    .line 90421
    invoke-virtual {p0}, Landroid/support/v7/app/q;->f()Landroid/support/v7/app/ActionBar;

    move-result-object v1

    const-string v0, ""

    invoke-virtual {v1, v0}, Landroid/support/v7/app/ActionBar;->a(Ljava/lang/CharSequence;)V

    .line 90422
    const v0, 0x7f0700e8

    invoke-virtual {v2, v0}, Landroid/support/v7/widget/Toolbar;->setNavigationIcon(I)V

    .line 90423
    const v0, 0x7f0f0031

    invoke-virtual {v2, v0}, Landroid/support/v7/widget/Toolbar;->setNavigationContentDescription(I)V

    .line 90424
    const v0, 0x7f0700fe

    invoke-static {p0, v0}, Landroid/support/v4/content/h;->a(Landroid/content/Context;I)Landroid/graphics/drawable/Drawable;

    move-result-object v0

    invoke-virtual {v2, v0}, Landroid/support/v7/widget/Toolbar;->setOverflowIcon(Landroid/graphics/drawable/Drawable;)V

    .line 90425
    new-instance v0, Lcom/facebook/mlite/mediaview/view/n;

    invoke-direct {v0, p0}, Lcom/facebook/mlite/mediaview/view/n;-><init>(Lcom/facebook/mlite/mediaview/view/MediaViewActivity;)V

    invoke-virtual {v2, v0}, Landroid/support/v7/widget/Toolbar;->setNavigationOnClickListener(Landroid/view/View$OnClickListener;)V

    .line 90426
    iget-object v0, p0, Lcom/facebook/mlite/mediaview/view/MediaViewActivity;->m:Lcom/facebook/mlite/util/compatibility/b/a;

    invoke-virtual {v0, v2}, Lcom/facebook/mlite/util/compatibility/b/a;->a(Landroid/view/View;)V

    .line 90427
    iget-object v1, p0, Lcom/facebook/mlite/mediaview/view/MediaViewActivity;->m:Lcom/facebook/mlite/util/compatibility/b/a;

    new-instance v0, Lcom/facebook/mlite/mediaview/view/o;

    invoke-direct {v0, p0}, Lcom/facebook/mlite/mediaview/view/o;-><init>(Lcom/facebook/mlite/mediaview/view/MediaViewActivity;)V

    invoke-virtual {v1, v0}, Lcom/facebook/mlite/util/compatibility/b/a;->a(Lcom/facebook/mlite/mediaview/view/o;)V

    .line 90428
    new-instance v0, Lcom/facebook/mlite/mediaview/view/p;

    invoke-direct {v0, p0, v2}, Lcom/facebook/mlite/mediaview/view/p;-><init>(Lcom/facebook/mlite/mediaview/view/MediaViewActivity;Landroid/support/v7/widget/Toolbar;)V

    iput-object v0, p0, Lcom/facebook/mlite/mediaview/view/MediaViewActivity;->j:Lcom/facebook/mlite/mediaview/view/p;

    .line 90429
    iget-object v0, p0, Lcom/facebook/mlite/mediaview/view/MediaViewActivity;->j:Lcom/facebook/mlite/mediaview/view/p;

    .line 90430
    invoke-static {v0}, Lcom/facebook/mlite/mediaview/view/p;->c(Lcom/facebook/mlite/mediaview/view/p;)V

    .line 90431
    invoke-virtual {p0}, Lcom/facebook/mlite/mediaview/view/MediaViewActivity;->getIntent()Landroid/content/Intent;

    move-result-object v0

    invoke-direct {p0, v0}, Lcom/facebook/mlite/mediaview/view/MediaViewActivity;->c(Landroid/content/Intent;)V

    .line 90432
    return-void
.end method

.method public final b(Landroid/content/Intent;)V
    .locals 0

    .prologue
    .line 90433
    invoke-super {p0, p1}, Lcom/facebook/mlite/coreui/base/e;->b(Landroid/content/Intent;)V

    .line 90434
    invoke-direct {p0, p1}, Lcom/facebook/mlite/mediaview/view/MediaViewActivity;->c(Landroid/content/Intent;)V

    .line 90435
    return-void
.end method

.method public final c(Landroid/os/Bundle;)V
    .locals 0
    .param p1    # Landroid/os/Bundle;
        .annotation build Ljavax/annotation/Nullable;
        .end annotation
    .end param

    .prologue
    .line 90461
    invoke-super {p0, p1}, Lcom/facebook/mlite/coreui/base/e;->c(Landroid/os/Bundle;)V

    .line 90462
    iget-object p0, p0, Lcom/facebook/mlite/mediaview/view/MediaViewActivity;->m:Lcom/facebook/mlite/util/compatibility/b/a;

    invoke-virtual {p0}, Lcom/facebook/mlite/util/compatibility/b/a;->b()V

    .line 90463
    return-void
.end method

.method public final onConfigurationChanged(Landroid/content/res/Configuration;)V
    .locals 2

    .prologue
    .line 90464
    invoke-super {p0, p1}, Landroid/support/v7/app/q;->onConfigurationChanged(Landroid/content/res/Configuration;)V

    .line 90465
    iget-object v0, p0, Lcom/facebook/mlite/mediaview/view/MediaViewActivity;->j:Lcom/facebook/mlite/mediaview/view/p;

    .line 90466
    invoke-static {v0}, Lcom/facebook/mlite/mediaview/view/p;->c(Lcom/facebook/mlite/mediaview/view/p;)V

    .line 90467
    iget v1, p1, Landroid/content/res/Configuration;->orientation:I

    iget v0, p0, Lcom/facebook/mlite/mediaview/view/MediaViewActivity;->l:I

    if-eq v1, v0, :cond_0

    .line 90468
    iget v0, p1, Landroid/content/res/Configuration;->orientation:I

    iput v0, p0, Lcom/facebook/mlite/mediaview/view/MediaViewActivity;->l:I

    .line 90469
    invoke-direct {p0}, Lcom/facebook/mlite/mediaview/view/MediaViewActivity;->s()Lcom/facebook/mlite/mediaview/view/MediaFragment;

    move-result-object v0

    .line 90470
    if-eqz v0, :cond_0

    .line 90471
    invoke-virtual {v0}, Lcom/facebook/mlite/mediaview/view/MediaFragment;->a()V

    .line 90472
    :cond_0
    return-void
.end method

.method public final onCreateOptionsMenu(Landroid/view/Menu;)Z
    .locals 2

    .prologue
    .line 90473
    invoke-virtual {p0}, Lcom/facebook/mlite/mediaview/view/MediaViewActivity;->getMenuInflater()Landroid/view/MenuInflater;

    move-result-object v1

    const v0, 0x7f0b0005

    invoke-virtual {v1, v0, p1}, Landroid/view/MenuInflater;->inflate(ILandroid/view/Menu;)V

    .line 90474
    invoke-virtual {p0}, Lcom/facebook/mlite/mediaview/view/MediaViewActivity;->getResources()Landroid/content/res/Resources;

    move-result-object v0

    invoke-static {p1, v0}, Lcom/facebook/mlite/resources/b/a;->a(Landroid/view/Menu;Landroid/content/res/Resources;)Lcom/facebook/mlite/resources/b/a;

    move-result-object p0

    const v1, 0x7f08002d

    const v0, 0x7f0f0037

    .line 90475
    invoke-virtual {p0, v1, v0}, Lcom/facebook/mlite/resources/b/a;->a(II)Lcom/facebook/mlite/resources/b/a;

    move-result-object p0

    const v1, 0x7f08002b

    const v0, 0x7f0f0035

    .line 90476
    invoke-virtual {p0, v1, v0}, Lcom/facebook/mlite/resources/b/a;->a(II)Lcom/facebook/mlite/resources/b/a;

    .line 90477
    const/4 v0, 0x1

    return v0
.end method

.method public final onOptionsItemSelected(Landroid/view/MenuItem;)Z
    .locals 12

    .prologue
    const/4 v5, 0x1

    .line 90478
    invoke-interface {p1}, Landroid/view/MenuItem;->getItemId()I

    move-result v1

    const v0, 0x7f08002d

    move-object v6, p0

    if-ne v1, v0, :cond_0

    .line 90479
    invoke-static {p0}, Lcom/facebook/mlite/mediaview/view/MediaViewActivity;->v(Lcom/facebook/mlite/mediaview/view/MediaViewActivity;)Lcom/facebook/mlite/mediaview/b/a;

    move-result-object v4

    .line 90480
    if-nez v4, :cond_2

    .line 90481
    :goto_0
    return v5

    .line 90482
    :cond_0
    invoke-interface {p1}, Landroid/view/MenuItem;->getItemId()I

    move-result v1

    const v0, 0x7f08002b

    if-ne v1, v0, :cond_1

    .line 90483
    invoke-static {p0}, Lcom/facebook/mlite/mediaview/view/MediaViewActivity;->v(Lcom/facebook/mlite/mediaview/view/MediaViewActivity;)Lcom/facebook/mlite/mediaview/b/a;

    move-result-object v0

    .line 90484
    if-nez v0, :cond_4

    .line 90485
    :goto_1
    goto :goto_0

    .line 90486
    :cond_1
    invoke-super {p0, p1}, Lcom/facebook/mlite/coreui/base/e;->onOptionsItemSelected(Landroid/view/MenuItem;)Z

    move-result v5

    goto :goto_0

    .line 90487
    :cond_2
    iget-object v3, v4, Lcom/facebook/mlite/mediaview/b/a;->a:Ljava/lang/String;

    iget-object v0, v4, Lcom/facebook/mlite/mediaview/b/a;->h:Ljava/lang/String;

    .line 90488
    invoke-static {v0}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v0

    if-nez v0, :cond_3

    const/4 v2, 0x1

    :goto_2
    iget-object v0, v4, Lcom/facebook/mlite/mediaview/b/a;->e:Landroid/net/Uri;

    .line 90489
    invoke-virtual {v0}, Landroid/net/Uri;->toString()Ljava/lang/String;

    move-result-object v1

    iget-object v0, v4, Lcom/facebook/mlite/mediaview/b/a;->f:Ljava/lang/String;

    .line 90490
    invoke-static {p0, v3, v2, v1, v0}, Lcom/facebook/mlite/share/view/ShareActivity;->a(Landroid/content/Context;Ljava/lang/String;ZLjava/lang/String;Ljava/lang/String;)Landroid/content/Intent;

    move-result-object v0

    .line 90491
    invoke-static {v0, p0}, Lcom/facebook/mlite/util/e/a;->a(Landroid/content/Intent;Landroid/content/Context;)V

    goto :goto_0

    .line 90492
    :cond_3
    const/4 v2, 0x0

    goto :goto_2

    .line 90493
    :cond_4
    iget-object v7, p0, Lcom/facebook/mlite/coreui/base/e;->o:Lcom/facebook/mlite/runtimepermissions/a;

    .line 90494
    iget-object v8, v0, Lcom/facebook/mlite/mediaview/b/a;->a:Ljava/lang/String;

    iget-object v9, v0, Lcom/facebook/mlite/mediaview/b/a;->e:Landroid/net/Uri;

    const/4 v10, 0x0

    iget-object v11, v0, Lcom/facebook/mlite/mediaview/b/a;->f:Ljava/lang/String;

    iget-object p0, v0, Lcom/facebook/mlite/mediaview/b/a;->b:Lcom/facebook/mlite/common/threadkey/ThreadKey;

    iget-object p1, v0, Lcom/facebook/mlite/mediaview/b/a;->g:Ljava/lang/String;

    .line 90495
    invoke-static/range {v6 .. v13}, Lcom/facebook/mlite/mediaview/c/a;->a(Landroid/support/v4/app/u;Lcom/facebook/mlite/runtimepermissions/a;Ljava/lang/String;Landroid/net/Uri;Landroid/net/Uri;Ljava/lang/String;Lcom/facebook/mlite/common/threadkey/ThreadKey;Ljava/lang/String;)V

    goto :goto_1
.end method
