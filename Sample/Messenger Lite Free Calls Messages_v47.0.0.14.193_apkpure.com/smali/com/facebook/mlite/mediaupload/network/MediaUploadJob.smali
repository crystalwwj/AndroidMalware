.class public Lcom/facebook/mlite/mediaupload/network/MediaUploadJob;
.super Ljava/lang/Object;
.source ""

# interfaces
.implements Lcom/facebook/mlite/jobscheduler/g;


# annotations
.annotation build Lcom/facebook/proguard/annotations/DoNotStrip;
.end annotation


# static fields
.field private static final a:Ljava/lang/String;


# instance fields
.field private final b:Lcom/facebook/mlite/mediaupload/e/a;

.field private c:Ljava/lang/String;

.field public d:Ljava/lang/String;

.field public e:Lcom/facebook/mlite/common/threadkey/ThreadKey;

.field public f:Ljava/lang/String;

.field private g:Ljava/lang/String;


# direct methods
.method public static constructor <clinit>()V
    .locals 1

    .prologue
    .line 89788
    const-class v0, Lcom/facebook/mlite/mediaupload/network/MediaUploadJob;

    invoke-virtual {v0}, Ljava/lang/Class;->getName()Ljava/lang/String;

    move-result-object v0

    sput-object v0, Lcom/facebook/mlite/mediaupload/network/MediaUploadJob;->a:Ljava/lang/String;

    return-void
.end method

.method public constructor <init>()V
    .locals 2

    .prologue
    .line 89789
    invoke-direct {p0}, Ljava/lang/Object;-><init>()V

    .line 89790
    new-instance v1, Lcom/facebook/mlite/mediaupload/e/a;

    invoke-static {}, Lcom/facebook/crudolib/b/a;->a()Landroid/app/Application;

    move-result-object v0

    invoke-direct {v1, v0}, Lcom/facebook/mlite/mediaupload/e/a;-><init>(Landroid/content/Context;)V

    iput-object v1, p0, Lcom/facebook/mlite/mediaupload/network/MediaUploadJob;->b:Lcom/facebook/mlite/mediaupload/e/a;

    return-void
.end method

.method public static a(Lcom/facebook/mlite/common/threadkey/ThreadKey;)Lcom/facebook/mlite/common/threadkey/a;
    .locals 4
    .annotation build Ljavax/annotation/Nullable;
    .end annotation

    .prologue
    .line 89791
    invoke-static {p0}, Lcom/instagram/common/guavalite/a/e;->a(Lcom/facebook/mlite/common/threadkey/ThreadKey;)Lcom/facebook/mlite/common/threadkey/a;

    move-result-object v3

    .line 89792
    if-nez v3, :cond_0

    .line 89793
    new-instance v2, Lcom/facebook/mlite/mediaupload/network/b;

    invoke-direct {v2, p0}, Lcom/facebook/mlite/mediaupload/network/b;-><init>(Lcom/facebook/mlite/common/threadkey/ThreadKey;)V

    const-wide/16 v0, 0x1388

    invoke-static {v2, v0, v1}, Lcom/facebook/mlite/e/l;->a(Ljava/lang/Runnable;J)V

    .line 89794
    :cond_0
    return-object v3
.end method

.method private a()V
    .locals 7

    .prologue
    .line 89795
    sget-object v1, Lcom/facebook/mlite/g/b;->a:Lcom/facebook/crudolib/h/c;

    .line 89796
    new-instance v0, Lcom/facebook/crudolib/g/a/o;

    invoke-direct {v0, v1}, Lcom/facebook/crudolib/g/a/o;-><init>(Lcom/facebook/crudolib/h/c;)V

    .line 89797
    invoke-virtual {v0}, Lcom/facebook/crudolib/g/a/o;->a()Lcom/facebook/crudolib/g/f;

    move-result-object v6

    .line 89798
    :try_start_0
    iget-object v5, p0, Lcom/facebook/mlite/mediaupload/network/MediaUploadJob;->f:Ljava/lang/String;

    .line 89799
    invoke-static {}, Lcom/facebook/mlite/syncprotocol/q;->a()Lcom/facebook/liblite/mqttnano/android/r;

    move-result-object v0

    invoke-virtual {v0}, Lcom/facebook/liblite/mqttnano/android/r;->a()J

    move-result-wide v2

    .line 89800
    const-string v1, "e"

    const/4 v0, 0x0

    invoke-static {v6, v5, v1, v0}, Lcom/facebook/mlite/syncprotocol/send/reliability/b/g;->a(Lcom/facebook/crudolib/g/f;Ljava/lang/String;Ljava/lang/String;I)Ljava/lang/String;

    .line 89801
    const-string v0, "e"

    invoke-static {v6, v5, v0, v2, v3}, Lcom/facebook/mlite/syncprotocol/send/c/c/c;->a(Lcom/facebook/crudolib/g/f;Ljava/lang/String;Ljava/lang/String;J)V

    .line 89802
    const-string v0, "onSendMediaFailed.reported"

    invoke-static {v0}, Lcom/facebook/mlite/syncprotocol/send/b/b;->a(Ljava/lang/String;)V

    .line 89803
    invoke-static {}, Lcom/facebook/mlite/syncprotocol/send/c/c/b;->a()V

    .line 89804
    const-string v0, "onSendMediaFailed.send_complete"

    invoke-static {v0}, Lcom/facebook/mlite/syncprotocol/send/b/b;->a(Ljava/lang/String;)V

    .line 89805
    invoke-interface {v6}, Lcom/facebook/crudolib/g/f;->a()V
    :try_end_0
    .catchall {:try_start_0 .. :try_end_0} :catchall_0

    .line 89806
    invoke-interface {v6}, Lcom/facebook/crudolib/g/f;->b()V

    .line 89807
    return-void

    .line 89808
    :catchall_0
    move-exception v0

    invoke-interface {v6}, Lcom/facebook/crudolib/g/f;->b()V

    throw v0
.end method

.method public static a(Lcom/facebook/mlite/common/threadkey/ThreadKey;Ljava/lang/String;)V
    .locals 1
    .annotation build Landroid/support/annotation/WorkerThread;
    .end annotation

    .prologue
    .line 89809
    sget-object v0, Lcom/facebook/mlite/mediaupload/network/MediaUploadJob;->a:Ljava/lang/String;

    invoke-static {v0, p0, p1}, Lcom/instagram/common/guavalite/a/e;->a(Ljava/lang/String;Lcom/facebook/mlite/common/threadkey/ThreadKey;Ljava/lang/String;)Ljava/lang/String;

    move-result-object p0

    .line 89810
    invoke-static {}, Lcom/facebook/mlite/jobscheduler/ab;->a()Lcom/facebook/mlite/jobscheduler/r;

    move-result-object v0

    invoke-virtual {v0, p0}, Lcom/facebook/mlite/jobscheduler/r;->a(Ljava/lang/String;)V

    .line 89811
    return-void
.end method

.method public static a(Ljava/lang/String;Ljava/lang/String;ZLcom/facebook/mlite/common/threadkey/ThreadKey;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V
    .locals 3

    .prologue
    .line 89812
    new-instance v2, Lcom/facebook/mlite/jobscheduler/ae;

    invoke-direct {v2}, Lcom/facebook/mlite/jobscheduler/ae;-><init>()V

    .line 89813
    const-string v0, "media_uri"

    invoke-virtual {v2, v0, p0}, Lcom/facebook/mlite/jobscheduler/ae;->a(Ljava/lang/String;Ljava/lang/String;)V

    .line 89814
    const-string v0, "mime_type"

    invoke-virtual {v2, v0, p1}, Lcom/facebook/mlite/jobscheduler/ae;->a(Ljava/lang/String;Ljava/lang/String;)V

    .line 89815
    const-string v1, "thread_key"

    .line 89816
    iget-object v0, p3, Lcom/facebook/mlite/common/threadkey/ThreadKey;->b:Ljava/lang/String;

    .line 89817
    invoke-virtual {v2, v1, v0}, Lcom/facebook/mlite/jobscheduler/ae;->a(Ljava/lang/String;Ljava/lang/String;)V

    .line 89818
    const-string v0, "offline_id"

    invoke-virtual {v2, v0, p4}, Lcom/facebook/mlite/jobscheduler/ae;->a(Ljava/lang/String;Ljava/lang/String;)V

    .line 89819
    const-string v0, "message_type"

    invoke-virtual {v2, v0, p5}, Lcom/facebook/mlite/jobscheduler/ae;->a(Ljava/lang/String;Ljava/lang/String;)V

    .line 89820
    const-string v0, "should_delete"

    invoke-virtual {v2, v0, p2}, Lcom/facebook/mlite/jobscheduler/ae;->a(Ljava/lang/String;Z)V

    .line 89821
    const-string v0, "progress_key"

    invoke-virtual {v2, v0, p6}, Lcom/facebook/mlite/jobscheduler/ae;->a(Ljava/lang/String;Ljava/lang/String;)V

    .line 89822
    new-instance v1, Lcom/facebook/mlite/jobscheduler/i;

    sget-object v0, Lcom/facebook/mlite/mediaupload/network/MediaUploadJob;->a:Ljava/lang/String;

    invoke-direct {v1, v0}, Lcom/facebook/mlite/jobscheduler/i;-><init>(Ljava/lang/String;)V

    .line 89823
    iput-object v2, v1, Lcom/facebook/mlite/jobscheduler/i;->g:Lcom/facebook/mlite/jobscheduler/ae;

    .line 89824
    sget-object v0, Lcom/facebook/mlite/mediaupload/network/MediaUploadJob;->a:Ljava/lang/String;

    .line 89825
    invoke-static {v0, p3, p4}, Lcom/instagram/common/guavalite/a/e;->a(Ljava/lang/String;Lcom/facebook/mlite/common/threadkey/ThreadKey;Ljava/lang/String;)Ljava/lang/String;

    move-result-object v0

    .line 89826
    iput-object v0, v1, Lcom/facebook/mlite/jobscheduler/i;->b:Ljava/lang/String;

    .line 89827
    const/4 v0, 0x1

    .line 89828
    iput v0, v1, Lcom/facebook/mlite/jobscheduler/i;->e:I

    .line 89829
    invoke-virtual {v1}, Lcom/facebook/mlite/jobscheduler/i;->a()Lcom/facebook/mlite/jobscheduler/h;

    move-result-object v1

    .line 89830
    invoke-static {}, Lcom/facebook/mlite/jobscheduler/ab;->a()Lcom/facebook/mlite/jobscheduler/r;

    move-result-object v0

    invoke-virtual {v0, v1}, Lcom/facebook/mlite/jobscheduler/r;->a(Lcom/facebook/mlite/jobscheduler/h;)V

    .line 89831
    const-string v1, "MediaUpload/MediaUploadJob"

    const-string v0, "Scheduled upload job for [%s]"

    invoke-static {v1, v0, p0}, Lcom/facebook/debug/a/a;->a(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Object;)V

    .line 89832
    return-void
.end method


# virtual methods
.method public final a(Lcom/facebook/mlite/jobscheduler/k;)Z
    .locals 18

    .prologue
    const/4 v10, 0x0

    const/4 v3, 0x1

    .line 89833
    move-object/from16 v4, p1

    iget-object v1, v4, Lcom/facebook/mlite/jobscheduler/k;->b:Lcom/facebook/mlite/jobscheduler/ae;

    .line 89834
    const-string v0, "media_uri"

    invoke-virtual {v1, v0}, Lcom/facebook/mlite/jobscheduler/ae;->d(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v0

    move-object/from16 v2, p0

    iput-object v0, v2, Lcom/facebook/mlite/mediaupload/network/MediaUploadJob;->d:Ljava/lang/String;

    .line 89835
    iget-object v1, v4, Lcom/facebook/mlite/jobscheduler/k;->b:Lcom/facebook/mlite/jobscheduler/ae;

    .line 89836
    const-string v0, "mime_type"

    invoke-virtual {v1, v0}, Lcom/facebook/mlite/jobscheduler/ae;->d(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v13

    .line 89837
    iget-object v1, v4, Lcom/facebook/mlite/jobscheduler/k;->b:Lcom/facebook/mlite/jobscheduler/ae;

    .line 89838
    const-string v0, "thread_key"

    invoke-virtual {v1, v0}, Lcom/facebook/mlite/jobscheduler/ae;->d(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v0

    invoke-static {v0}, Lcom/facebook/mlite/common/threadkey/ThreadKey;->a(Ljava/lang/String;)Lcom/facebook/mlite/common/threadkey/ThreadKey;

    move-result-object v0

    iput-object v0, v2, Lcom/facebook/mlite/mediaupload/network/MediaUploadJob;->e:Lcom/facebook/mlite/common/threadkey/ThreadKey;

    .line 89839
    iget-object v1, v4, Lcom/facebook/mlite/jobscheduler/k;->b:Lcom/facebook/mlite/jobscheduler/ae;

    .line 89840
    const-string v0, "offline_id"

    invoke-virtual {v1, v0}, Lcom/facebook/mlite/jobscheduler/ae;->d(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v0

    iput-object v0, v2, Lcom/facebook/mlite/mediaupload/network/MediaUploadJob;->f:Ljava/lang/String;

    .line 89841
    iget-object v5, v4, Lcom/facebook/mlite/jobscheduler/k;->b:Lcom/facebook/mlite/jobscheduler/ae;

    .line 89842
    const-string v1, "message_type"

    const-string v0, "unknown"

    invoke-virtual {v5, v1, v0}, Lcom/facebook/mlite/jobscheduler/ae;->b(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;

    move-result-object v0

    iput-object v0, v2, Lcom/facebook/mlite/mediaupload/network/MediaUploadJob;->g:Ljava/lang/String;

    .line 89843
    iget-object v0, v4, Lcom/facebook/mlite/jobscheduler/k;->b:Lcom/facebook/mlite/jobscheduler/ae;

    .line 89844
    const-string v1, "should_delete"

    .line 89845
    iget-object v0, v0, Lcom/facebook/mlite/jobscheduler/ae;->b:Landroid/os/Bundle;

    invoke-virtual {v0, v1}, Landroid/os/Bundle;->getBoolean(Ljava/lang/String;)Z

    move-result v9

    .line 89846
    iget-object v1, v4, Lcom/facebook/mlite/jobscheduler/k;->b:Lcom/facebook/mlite/jobscheduler/ae;

    .line 89847
    const-string v0, "progress_key"

    invoke-virtual {v1, v0}, Lcom/facebook/mlite/jobscheduler/ae;->d(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v0

    iput-object v0, v2, Lcom/facebook/mlite/mediaupload/network/MediaUploadJob;->c:Ljava/lang/String;

    .line 89848
    iget-object v0, v4, Lcom/facebook/mlite/jobscheduler/k;->c:Lcom/facebook/mlite/jobscheduler/ac;

    .line 89849
    iget-object v8, v2, Lcom/facebook/mlite/mediaupload/network/MediaUploadJob;->f:Ljava/lang/String;

    iget-object v7, v2, Lcom/facebook/mlite/mediaupload/network/MediaUploadJob;->d:Ljava/lang/String;

    .line 89850
    sget-object v1, Lcom/facebook/mlite/mediaupload/analytics/a;->a:Ljava/util/concurrent/atomic/AtomicInteger;

    invoke-virtual {v1}, Ljava/util/concurrent/atomic/AtomicInteger;->getAndIncrement()I

    move-result v6

    .line 89851
    const v1, 0xe90009

    invoke-static {v1, v6}, Lcom/facebook/mlite/ac/d;->a(II)V

    .line 89852
    new-instance v5, Lcom/facebook/mlite/mediaupload/analytics/a;

    invoke-direct {v5, v6, v8, v7, v13}, Lcom/facebook/mlite/mediaupload/analytics/a;-><init>(ILjava/lang/String;Ljava/lang/String;Ljava/lang/String;)V

    .line 89853
    iget-object v1, v2, Lcom/facebook/mlite/mediaupload/network/MediaUploadJob;->e:Lcom/facebook/mlite/common/threadkey/ThreadKey;

    if-eqz v1, :cond_0

    iget-object v6, v2, Lcom/facebook/mlite/mediaupload/network/MediaUploadJob;->f:Ljava/lang/String;

    const-string v1, "null-offline-threading-id"

    .line 89854
    invoke-static {v6, v1}, Landroid/text/TextUtils;->equals(Ljava/lang/CharSequence;Ljava/lang/CharSequence;)Z

    move-result v1

    if-nez v1, :cond_0

    .line 89855
    sget-object v7, Lcom/facebook/mlite/g/b;->a:Lcom/facebook/crudolib/h/c;

    .line 89856
    iget-object v6, v2, Lcom/facebook/mlite/mediaupload/network/MediaUploadJob;->f:Ljava/lang/String;

    iget-object v1, v2, Lcom/facebook/mlite/mediaupload/network/MediaUploadJob;->e:Lcom/facebook/mlite/common/threadkey/ThreadKey;

    .line 89857
    invoke-static {v7, v6, v1}, Lcom/instagram/common/guavalite/a/e;->e(Lcom/facebook/crudolib/h/c;Ljava/lang/String;Lcom/facebook/mlite/common/threadkey/ThreadKey;)Z

    move-result v1

    if-eqz v1, :cond_0

    .line 89858
    const-string v6, "MediaUpload/MediaUploadJob"

    const-string v4, "run/associated message has been deleted, skipping upload %s"

    new-array v1, v3, [Ljava/lang/Object;

    iget-object v0, v2, Lcom/facebook/mlite/mediaupload/network/MediaUploadJob;->d:Ljava/lang/String;

    aput-object v0, v1, v10

    invoke-static {v6, v4, v1}, Lcom/facebook/debug/a/a;->b(Ljava/lang/String;Ljava/lang/String;[Ljava/lang/Object;)V

    .line 89859
    invoke-virtual {v5}, Lcom/facebook/mlite/mediaupload/analytics/a;->b()V

    .line 89860
    iget-object v0, v2, Lcom/facebook/mlite/mediaupload/network/MediaUploadJob;->g:Ljava/lang/String;

    invoke-static {v0}, Lcom/instagram/common/guavalite/a/e;->g(Ljava/lang/String;)V

    .line 89861
    :goto_0
    return v3

    .line 89862
    :cond_0
    const-string v8, "MediaUpload/MediaUploadJob"

    const-string v7, "Started upload job for [%s] threadKey=[%s] mime=[%s]"

    iget-object v6, v2, Lcom/facebook/mlite/mediaupload/network/MediaUploadJob;->d:Ljava/lang/String;

    iget-object v1, v2, Lcom/facebook/mlite/mediaupload/network/MediaUploadJob;->e:Lcom/facebook/mlite/common/threadkey/ThreadKey;

    invoke-static {v8, v7, v6, v1, v13}, Lcom/facebook/debug/a/a;->a(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;Ljava/lang/Object;)V

    .line 89863
    iget-object v11, v2, Lcom/facebook/mlite/mediaupload/network/MediaUploadJob;->b:Lcom/facebook/mlite/mediaupload/e/a;

    iget-object v12, v2, Lcom/facebook/mlite/mediaupload/network/MediaUploadJob;->d:Ljava/lang/String;

    iget-object v14, v2, Lcom/facebook/mlite/mediaupload/network/MediaUploadJob;->c:Ljava/lang/String;

    const-wide/16 v15, 0x3e8

    .line 89864
    sget-object v7, Lcom/facebook/mlite/ab/d;->a:Lcom/facebook/qe/api/b/a;

    .line 89865
    const/16 v6, 0x22

    const/4 v1, 0x3

    .line 89866
    invoke-virtual {v7, v6, v1}, Lcom/facebook/qe/api/b/a;->a(II)I

    move-result v17

    .line 89867
    move/from16 p0, v3

    move-object/from16 p1, v0

    invoke-virtual/range {v11 .. v19}, Lcom/facebook/mlite/mediaupload/e/a;->a(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;JIZLcom/facebook/mlite/jobscheduler/ac;)Lcom/facebook/mlite/mediaupload/consts/b;

    move-result-object v15

    .line 89868
    invoke-virtual {v15}, Lcom/facebook/mlite/mediaupload/consts/b;->b()Z

    move-result v1

    if-nez v1, :cond_3

    move v8, v3

    .line 89869
    :goto_1
    invoke-virtual {v15}, Lcom/facebook/mlite/mediaupload/consts/b;->a()Z

    move-result v1

    if-eqz v1, :cond_5

    .line 89870
    const-string v3, "null-offline-threading-id"

    iget-object v1, v2, Lcom/facebook/mlite/mediaupload/network/MediaUploadJob;->f:Ljava/lang/String;

    invoke-virtual {v3, v1}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v1

    if-eqz v1, :cond_4

    .line 89871
    iget-object v4, v15, Lcom/facebook/mlite/mediaupload/consts/b;->a:Ljava/lang/String;

    .line 89872
    iget-object v0, v2, Lcom/facebook/mlite/mediaupload/network/MediaUploadJob;->e:Lcom/facebook/mlite/common/threadkey/ThreadKey;

    invoke-static {v0}, Lcom/facebook/mlite/mediaupload/network/MediaUploadJob;->a(Lcom/facebook/mlite/common/threadkey/ThreadKey;)Lcom/facebook/mlite/common/threadkey/a;

    move-result-object v0

    .line 89873
    if-nez v0, :cond_b

    .line 89874
    :goto_2
    const v3, 0xe90009

    .line 89875
    iget v0, v5, Lcom/facebook/mlite/mediaupload/analytics/a;->b:I

    invoke-static {v3, v0}, Lcom/facebook/mlite/ac/d;->b(II)Z

    move-result v0

    if-eqz v0, :cond_1

    .line 89876
    invoke-static {v5}, Lcom/facebook/mlite/mediaupload/analytics/a;->c(Lcom/facebook/mlite/mediaupload/analytics/a;)V

    .line 89877
    iget v1, v5, Lcom/facebook/mlite/mediaupload/analytics/a;->b:I

    const/4 v0, 0x2

    invoke-static {v3, v1, v0}, Lcom/facebook/mlite/ac/d;->a(IIS)V

    .line 89878
    :cond_1
    :goto_3
    sget-object v1, Lcom/facebook/mlite/y/a;->f:Lcom/facebook/mlite/y/a;

    .line 89879
    iget-object v0, v2, Lcom/facebook/mlite/mediaupload/network/MediaUploadJob;->c:Ljava/lang/String;

    invoke-virtual {v1, v0}, Lcom/facebook/mlite/y/a;->b(Ljava/lang/String;)V

    .line 89880
    const-string v10, "MediaUpload/MediaUploadJob"

    const-string v11, "Ending upload job for [%s] threadKey=[%s] finished=%s result=%s"

    iget-object v12, v2, Lcom/facebook/mlite/mediaupload/network/MediaUploadJob;->d:Ljava/lang/String;

    iget-object v13, v2, Lcom/facebook/mlite/mediaupload/network/MediaUploadJob;->e:Lcom/facebook/mlite/common/threadkey/ThreadKey;

    .line 89881
    invoke-static {v8}, Ljava/lang/Boolean;->valueOf(Z)Ljava/lang/Boolean;

    move-result-object v14

    .line 89882
    invoke-static/range {v10 .. v15}, Lcom/facebook/debug/a/a;->a(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;Ljava/lang/Object;Ljava/lang/Object;)V

    .line 89883
    if-eqz v8, :cond_2

    if-eqz v9, :cond_2

    .line 89884
    iget-object v0, v2, Lcom/facebook/mlite/mediaupload/network/MediaUploadJob;->d:Ljava/lang/String;

    invoke-static {v0}, Lcom/facebook/mlite/mediaupload/network/f;->a(Ljava/lang/String;)V

    :cond_2
    move v3, v8

    .line 89885
    goto :goto_0

    :cond_3
    move v8, v10

    .line 89886
    goto :goto_1

    .line 89887
    :cond_4
    iget-object v7, v15, Lcom/facebook/mlite/mediaupload/consts/b;->a:Ljava/lang/String;

    .line 89888
    iget-object v4, v2, Lcom/facebook/mlite/mediaupload/network/MediaUploadJob;->e:Lcom/facebook/mlite/common/threadkey/ThreadKey;

    .line 89889
    iget-object v3, v2, Lcom/facebook/mlite/mediaupload/network/MediaUploadJob;->f:Ljava/lang/String;

    .line 89890
    iget-object v6, v2, Lcom/facebook/mlite/mediaupload/network/MediaUploadJob;->d:Ljava/lang/String;

    .line 89891
    invoke-static {v4}, Lcom/facebook/mlite/mediaupload/network/MediaUploadJob;->a(Lcom/facebook/mlite/common/threadkey/ThreadKey;)Lcom/facebook/mlite/common/threadkey/a;

    move-result-object v1

    .line 89892
    if-nez v1, :cond_c

    .line 89893
    :goto_4
    iget-object v3, v2, Lcom/facebook/mlite/mediaupload/network/MediaUploadJob;->g:Ljava/lang/String;

    .line 89894
    new-instance v1, Ljava/lang/StringBuilder;

    const-string v0, "media_upload_success_"

    invoke-direct {v1, v0}, Ljava/lang/StringBuilder;-><init>(Ljava/lang/String;)V

    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v0

    invoke-virtual {v0}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v0

    invoke-static {v0}, Lcom/instagram/common/guavalite/a/e;->h(Ljava/lang/String;)V

    .line 89895
    goto :goto_2

    .line 89896
    :cond_5
    invoke-virtual {v15}, Lcom/facebook/mlite/mediaupload/consts/b;->c()Z

    move-result v0

    if-eqz v0, :cond_6

    .line 89897
    invoke-virtual {v5}, Lcom/facebook/mlite/mediaupload/analytics/a;->b()V

    .line 89898
    iget-object v0, v2, Lcom/facebook/mlite/mediaupload/network/MediaUploadJob;->g:Ljava/lang/String;

    invoke-static {v0}, Lcom/instagram/common/guavalite/a/e;->g(Ljava/lang/String;)V

    goto :goto_3

    .line 89899
    :cond_6
    if-nez v8, :cond_7

    .line 89900
    iget v1, v4, Lcom/facebook/mlite/jobscheduler/k;->d:I

    .line 89901
    const/4 v0, 0x2

    if-ne v1, v0, :cond_e

    const/4 v0, 0x1

    .line 89902
    :goto_5
    if-eqz v0, :cond_8

    :cond_7
    move v10, v3

    .line 89903
    :cond_8
    iget-object v6, v15, Lcom/facebook/mlite/mediaupload/consts/b;->c:Lcom/facebook/mlite/mediaupload/consts/a;

    const v4, 0xe90009

    .line 89904
    iget v0, v5, Lcom/facebook/mlite/mediaupload/analytics/a;->b:I

    invoke-static {v4, v0}, Lcom/facebook/mlite/ac/d;->b(II)Z

    move-result v0

    if-eqz v0, :cond_9

    .line 89905
    invoke-static {v5}, Lcom/facebook/mlite/mediaupload/analytics/a;->c(Lcom/facebook/mlite/mediaupload/analytics/a;)V

    .line 89906
    iget v3, v5, Lcom/facebook/mlite/mediaupload/analytics/a;->b:I

    const-string v1, "failed_reason"

    invoke-static {v6}, Ljava/lang/String;->valueOf(Ljava/lang/Object;)Ljava/lang/String;

    move-result-object v0

    invoke-static {v4, v3, v1, v0}, Lcom/facebook/mlite/ac/d;->a(IILjava/lang/String;Ljava/lang/String;)V

    .line 89907
    if-eqz v10, :cond_f

    const/4 v1, 0x3

    .line 89908
    :goto_6
    iget v0, v5, Lcom/facebook/mlite/mediaupload/analytics/a;->b:I

    invoke-static {v4, v0, v1}, Lcom/facebook/mlite/ac/d;->a(IIS)V

    .line 89909
    :cond_9
    if-eqz v10, :cond_a

    .line 89910
    iget-object v3, v2, Lcom/facebook/mlite/mediaupload/network/MediaUploadJob;->g:Ljava/lang/String;

    .line 89911
    new-instance v1, Ljava/lang/StringBuilder;

    const-string v0, "media_upload_fail_"

    invoke-direct {v1, v0}, Ljava/lang/StringBuilder;-><init>(Ljava/lang/String;)V

    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v0

    invoke-virtual {v0}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v0

    invoke-static {v0}, Lcom/instagram/common/guavalite/a/e;->h(Ljava/lang/String;)V

    .line 89912
    invoke-direct {v2}, Lcom/facebook/mlite/mediaupload/network/MediaUploadJob;->a()V

    goto/16 :goto_3

    .line 89913
    :cond_a
    iget-object v3, v2, Lcom/facebook/mlite/mediaupload/network/MediaUploadJob;->g:Ljava/lang/String;

    .line 89914
    new-instance v1, Ljava/lang/StringBuilder;

    const-string v0, "media_upload_error_"

    invoke-direct {v1, v0}, Ljava/lang/StringBuilder;-><init>(Ljava/lang/String;)V

    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v0

    invoke-virtual {v0}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v0

    invoke-static {v0}, Lcom/instagram/common/guavalite/a/e;->h(Ljava/lang/String;)V

    .line 89915
    goto/16 :goto_3

    .line 89916
    :cond_b
    iget-object v3, v2, Lcom/facebook/mlite/mediaupload/network/MediaUploadJob;->e:Lcom/facebook/mlite/common/threadkey/ThreadKey;

    .line 89917
    sget-object v1, Lcom/facebook/mlite/e/m;->a:Ljava/util/concurrent/ExecutorService;

    .line 89918
    new-instance v0, Lcom/facebook/mlite/syncprotocol/cg;

    invoke-direct {v0, v3, v4}, Lcom/facebook/mlite/syncprotocol/cg;-><init>(Lcom/facebook/mlite/common/threadkey/ThreadKey;Ljava/lang/String;)V

    invoke-interface {v1, v0}, Ljava/util/concurrent/Executor;->execute(Ljava/lang/Runnable;)V

    .line 89919
    goto/16 :goto_2

    .line 89920
    :cond_c
    iget-boolean v0, v0, Lcom/facebook/mlite/jobscheduler/ac;->a:Z

    .line 89921
    if-eqz v0, :cond_d

    .line 89922
    const-string v4, "MediaUpload/MediaUploadJob"

    const-string v3, "Current job marked as stop. Skip message payload sending for %s"

    const/4 v0, 0x1

    new-array v1, v0, [Ljava/lang/Object;

    const/4 v0, 0x0

    aput-object v6, v1, v0

    invoke-static {v4, v3, v1}, Lcom/facebook/debug/a/a;->b(Ljava/lang/String;Ljava/lang/String;[Ljava/lang/Object;)V

    goto/16 :goto_4

    .line 89923
    :cond_d
    invoke-static {v7, v3, v4, v1, v6}, Lcom/facebook/mlite/syncprotocol/send/media/b;->a(Ljava/lang/String;Ljava/lang/String;Lcom/facebook/mlite/common/threadkey/ThreadKey;Lcom/facebook/mlite/common/threadkey/a;Ljava/lang/String;)V

    goto/16 :goto_4

    :cond_e
    const/4 v0, 0x0

    goto :goto_5

    .line 89924
    :cond_f
    const/16 v1, 0x57

    goto :goto_6
.end method
